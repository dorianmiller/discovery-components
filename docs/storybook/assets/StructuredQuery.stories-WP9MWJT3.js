var Zn=Object.defineProperty;var Un=(r,e,t)=>e in r?Zn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var v=(r,e,t)=>(Un(r,typeof e!="symbol"?e+"":e,t),t),Kn=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var pt=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)};var Qe=(r,e,t)=>(Kn(r,e,"access private method"),t);import{j as S}from"./jsx-runtime-FsUICBgo.js";import{d as pn}from"./index-777x7qAF.js";import{S as Xn,D as Jn,c as Yn}from"./storybookUtils-P7YVKdto.js";import{S as er,w as tr,F as nr,o as rr,b as ir,D as or,a as ar}from"./chunk-WFFRPTHA-XxQL4zvM.js";import{R as f,a as sr,g as dn,r as w}from"./index-RfLt4OUa.js";import{P as c}from"./index-4QtD-hFu.js";import{_ as hn,I as fn,a as mn,c as H,e as zt,s as gn,u as tt,B as nt,C as lr,b as bn,m as Lt,l as xn,k as cr,S as ur,f as pr,d as dr}from"./Button-KibTbxDG.js";import{R as hr}from"./ResizeObserver.es-lk2mK0C6.js";import{d as fr}from"./_baseSlice-BktYtjHb.js";import{u as mr,T as Bt}from"./uniqueId-3N0rOl1M.js";import{D as wn,m as yn,L as gr,a as br,u as xr}from"./createPropAdapter-rri3PPhE.js";import{L as ye,a as kn,b as vn}from"./index-o5OFstPD.js";import{m as Tn}from"./mergeRefs-uj14wjf3.js";import{W as Sn,a as Rn}from"./bucket-29-VrKNGfP9.js";import{f as wr}from"./formatMessage-wl7oTduw.js";import{o as qt,T as yr}from"./omit-VaLeiQib.js";import{S as kr}from"./bucket-25-SwNT5LZP.js";import"./callBound-4MCeDK1M.js";import"./pickBy-llkn_6s3.js";import"./isPlainObject-g73re4jY.js";import"./index-xck8ovCi.js";import"./preview-errors-Ix78kkVy.js";import"./debounce-eWC8LGMf.js";import"./v4-yQnnJER4.js";import"./inheritsLoose-O2jMHMzR.js";import"./bucket-5-3bTeVNTN.js";import"./_baseClone-6sJ_SjB4.js";import"./last-zLtIjBiu.js";var Mt,vr=["children"],_n=f.forwardRef(function(e,t){var n=e.children,i=hn(e,vr);return f.createElement(fn,mn({width:16,height:16,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",ref:t},i),Mt||(Mt=f.createElement("path",{d:"M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"})),n)}),Vt,Wt,Tr=["children"],Sr=f.forwardRef(function(e,t){var n=e.children,i=hn(e,Tr);return f.createElement(fn,mn({width:16,height:16,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",ref:t},i),Vt||(Vt=f.createElement("path",{d:"M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"})),Wt||(Wt=f.createElement("path",{d:"M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"})),n)});const Rr=sr(hr);function _r(r){return r&&typeof r=="object"&&"default"in r?r.default:r}var Ir=_r(Rr),ue=w;function Cr(r){r===void 0&&(r={});var e=ue.useRef(null),t=r.onResize,n=ue.useRef(void 0);n.current=t;var i=ue.useRef(),o=r.ref||e,a=ue.useState({width:void 0,height:void 0}),s=a[0],l=a[1],p=ue.useRef({width:void 0,height:void 0});return ue.useEffect(function(){i.current||(i.current=new Ir(function(u){if(Array.isArray(u)&&u.length){var h=u[0],d=Math.round(h.contentRect.width),m=Math.round(h.contentRect.height);if(p.current.width!==d||p.current.height!==m){var k={width:d,height:m};n.current?n.current(k):(p.current.width=d,p.current.height=m,l(k))}}}))},[]),ue.useEffect(function(){if(!(typeof o!="object"||o===null||!(o.current instanceof Element))){var u=o.current;return i.current.observe(u),function(){return i.current.unobserve(u)}}},[o]),ue.useMemo(function(){return{ref:o,width:s.width,height:s.height}},[o,s?s.width:null,s?s.height:null])}var Or=Cr;const $r=dn(Or);var Er=["children","className","feedback","feedbackTimeout","onAnimationEnd","onClick"];function ht(){return ht=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ht.apply(this,arguments)}function Gt(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Pr(r,e){return jr(r)||Ar(r,e)||Nr(r,e)||Dr()}function Dr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nr(r,e){if(r){if(typeof r=="string")return Qt(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qt(r,e)}}function Qt(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Ar(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,a,s;try{for(t=t.call(r);!(i=(a=t.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return n}}function jr(r){if(Array.isArray(r))return r}function zr(r,e){if(r==null)return{};var t=Lr(r,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Lr(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}var je=gn.prefix;function rt(r){var e,t=r.children,n=r.className,i=r.feedback,o=r.feedbackTimeout,a=r.onAnimationEnd,s=r.onClick,l=zr(r,Er),p=w.useState(""),u=Pr(p,2),h=u[0],d=u[1],m=H(n,"".concat(je,"--copy"),(e={},Gt(e,"".concat(je,"--copy-btn--animating"),h),Gt(e,"".concat(je,"--copy-btn--").concat(h),h),e)),k=w.useCallback(fr(function(){d("fade-out")},o),[o]),g=w.useCallback(function(){d("fade-in"),k()},[k]),T=function(C){C.animationName==="hide-feedback"&&d("")};return w.useEffect(function(){return function(){k.cancel()}},[k]),f.createElement("button",ht({type:"button",className:m,onClick:zt([s,g]),onAnimationEnd:zt([a,T])},l,{"aria-live":"polite","aria-label":!t&&(h?i:l["aria-label"])||null}),t,h?i:l["aria-label"],f.createElement("span",{"aria-hidden":"true",className:"".concat(je,"--assistive-text ").concat(je,"--copy-btn__feedback")},i))}rt.propTypes={children:c.node,className:c.string,feedback:c.string,feedbackTimeout:c.number,onAnimationEnd:c.func,onClick:c.func};rt.defaultProps={feedback:"Copied!",feedbackTimeout:2e3,onClick:function(){}};var Br=["iconDescription","className"];function ft(){return ft=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ft.apply(this,arguments)}function qr(r,e){if(r==null)return{};var t=Mr(r,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Mr(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function St(r){var e=r.iconDescription,t=r.className,n=qr(r,Br),i=tt();return f.createElement(rt,ft({className:H(t,"".concat(i,"--copy-btn")),"aria-label":e,title:e},n),f.createElement(Sr,{className:"".concat(i,"--snippet__icon")}))}St.propTypes={className:c.string,feedback:c.string,feedbackTimeout:c.number,iconDescription:c.string,onClick:c.func};St.defaultProps={iconDescription:"Copy to clipboard",feedback:"Copied!",feedbackTimeout:2e3,onClick:function(){}};var Vr=function(){var r=document.getSelection();if(!r.rangeCount)return function(){};for(var e=document.activeElement,t=[],n=0;n<r.rangeCount;n++)t.push(r.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return r.removeAllRanges(),function(){r.type==="Caret"&&r.removeAllRanges(),r.rangeCount||t.forEach(function(i){r.addRange(i)}),e&&e.focus()}},Wr=Vr,Ht={"text/plain":"Text","text/html":"Url",default:"Text"},Gr="Copy to clipboard: #{key}, Enter";function Qr(r){var e=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return r.replace(/#{\s*key\s*}/g,e)}function Hr(r,e){var t,n,i,o,a,s,l=!1;e||(e={}),t=e.debug||!1;try{i=Wr(),o=document.createRange(),a=document.getSelection(),s=document.createElement("span"),s.textContent=r,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(u){if(u.stopPropagation(),e.format)if(u.preventDefault(),typeof u.clipboardData>"u"){t&&console.warn("unable to use e.clipboardData"),t&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var h=Ht[e.format]||Ht.default;window.clipboardData.setData(h,r)}else u.clipboardData.clearData(),u.clipboardData.setData(e.format,r);e.onCopy&&(u.preventDefault(),e.onCopy(u.clipboardData))}),document.body.appendChild(s),o.selectNodeContents(s),a.addRange(o);var p=document.execCommand("copy");if(!p)throw new Error("copy command was unsuccessful");l=!0}catch(u){t&&console.error("unable to copy using execCommand: ",u),t&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",r),e.onCopy&&e.onCopy(window.clipboardData),l=!0}catch(h){t&&console.error("unable to copy using clipboardData: ",h),t&&console.error("falling back to prompt"),n=Qr("message"in e?e.message:Gr),window.prompt(n,r)}}finally{a&&(typeof a.removeRange=="function"?a.removeRange(o):a.removeAllRanges()),s&&document.body.removeChild(s),i()}return l}var Fr=Hr;const Zr=dn(Fr);var Ur=["className","type","children","disabled","feedback","feedbackTimeout","onClick","ariaLabel","copyLabel","copyButtonDescription","light","showMoreText","showLessText","hideCopyButton","wrapText","maxCollapsedNumberOfRows","maxExpandedNumberOfRows","minCollapsedNumberOfRows","minExpandedNumberOfRows"];function Le(){return Le=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Le.apply(this,arguments)}function Pe(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function He(r,e){return Yr(r)||Jr(r,e)||Xr(r,e)||Kr()}function Kr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xr(r,e){if(r){if(typeof r=="string")return Ft(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ft(r,e)}}function Ft(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Jr(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,a,s;try{for(t=t.call(r);!(i=(a=t.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return n}}function Yr(r){if(Array.isArray(r))return r}function ei(r,e){if(r==null)return{};var t=ti(r,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function ti(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}var xe=16,ni=15,ri=0,ii=3,oi=16;function Rt(r){var e,t=r.className,n=r.type,i=r.children,o=r.disabled,a=r.feedback,s=r.feedbackTimeout,l=r.onClick,p=r.ariaLabel,u=r.copyLabel,h=r.copyButtonDescription,d=r.light,m=r.showMoreText,k=r.showLessText,g=r.hideCopyButton,T=r.wrapText,I=r.maxCollapsedNumberOfRows,C=I===void 0?ni:I,U=r.maxExpandedNumberOfRows,L=U===void 0?ri:U,j=r.minCollapsedNumberOfRows,he=j===void 0?ii:j,W=r.minExpandedNumberOfRows,K=W===void 0?oi:W,ie=ei(r,Ur),fe=w.useState(!1),Te=He(fe,2),X=Te[0],R=Te[1],B=w.useState(!1),b=He(B,2),Se=b[0],q=b[1],G=w.useRef(mr()),le=G.current,E=w.useRef(),M=w.useRef(),De=w.useState(!1),Re=He(De,2),F=Re[0],Z=Re[1],_e=w.useState(!1),me=He(_e,2),ge=me[0],Ie=me[1],be=w.useCallback(function(){if(n==="single")return M;if(n==="multi")return E},[n]),O=tt(),Ce=w.useCallback(function(){var $=be().current,A=$.clientWidth,ee=$.scrollLeft,oe=$.scrollWidth;return{horizontalOverflow:oe>A,codeClientWidth:A,codeScrollWidth:oe,codeScrollLeft:ee}},[be]),J=w.useCallback(function(){if(!(n==="inline"||n==="single"&&!(M!=null&&M.current)||n==="multi"&&!(E!=null&&E.current))){var $=Ce(),A=$.horizontalOverflow,ee=$.codeClientWidth,oe=$.codeScrollWidth,$e=$.codeScrollLeft;Z(A&&!!$e),Ie(A&&$e+ee!==oe)}},[n,Ce]);$r({ref:be(),onResize:function(){if(E!=null&&E.current&&n==="multi"){var A=E.current.getBoundingClientRect(),ee=A.height;C>0&&(L<=0||L>C)&&ee>C*xe?q(!0):q(!1),X&&K>0&&ee<=K*xe&&R(!1)}(E!=null&&E.current&&n==="multi"||M!=null&&M.current&&n==="single")&&J()}},[n,C,L,K,xe]),w.useEffect(function(){J()},[J]);var Oe=function(A){Zr(i),l&&l(A)},ce=H(t,"".concat(O,"--snippet"),(e={},Pe(e,"".concat(O,"--snippet--").concat(n),n),Pe(e,"".concat(O,"--snippet--disabled"),n!=="inline"&&o),Pe(e,"".concat(O,"--snippet--expand"),X),Pe(e,"".concat(O,"--snippet--light"),d),Pe(e,"".concat(O,"--snippet--no-copy"),g),Pe(e,"".concat(O,"--snippet--wraptext"),T),e)),Y=X?k:m;if(n==="inline")return g?f.createElement("span",{className:ce},f.createElement("code",{id:le},i)):f.createElement(rt,Le({},ie,{onClick:Oe,"aria-label":u||p,"aria-describedby":le,className:ce,feedback:a,feedbackTimeout:s}),f.createElement("code",{id:le},i));var P={};if(n==="multi"){var N={};X?(L>0&&(N.maxHeight=L*xe),K>0&&(N.minHeight=K*xe)):(C>0&&(N.maxHeight=C*xe),he>0&&(N.minHeight=he*xe)),Object.keys(N).length&&(P.style=N)}return f.createElement("div",Le({},ie,{className:ce}),f.createElement("div",Le({ref:M,role:n==="single"?"textbox":null,tabIndex:n==="single"&&!o?0:null,className:"".concat(O,"--snippet-container"),"aria-label":p||u||"code-snippet",onScroll:n==="single"&&J||null},P),f.createElement("pre",{ref:E,onScroll:n==="multi"&&J||null},f.createElement("code",null,i))),F&&f.createElement("div",{className:"".concat(O,"--snippet__overflow-indicator--left")}),ge&&f.createElement("div",{className:"".concat(O,"--snippet__overflow-indicator--right")}),!g&&f.createElement(St,{disabled:o,onClick:Oe,feedback:a,feedbackTimeout:s,iconDescription:h}),Se&&f.createElement(nt,{kind:"ghost",size:"field",className:"".concat(O,"--snippet-btn--expand"),disabled:o,onClick:function(){return R(!X)}},f.createElement("span",{className:"".concat(O,"--snippet-btn--text")},Y),f.createElement(lr,{"aria-label":Y,className:"".concat(O,"--icon-chevron--down ").concat(O,"--snippet__icon"),name:"chevron--down",role:"img"})))}Rt.propTypes={ariaLabel:c.string,children:c.string,className:c.string,copyButtonDescription:c.string,copyLabel:c.string,disabled:c.bool,feedback:c.string,feedbackTimeout:c.number,hideCopyButton:c.bool,light:c.bool,maxCollapsedNumberOfRows:c.number,maxExpandedNumberOfRows:c.number,minCollapsedNumberOfRows:c.number,minExpandedNumberOfRows:c.number,onClick:c.func,showLessText:c.string,showMoreText:c.string,type:c.oneOf(["single","inline","multi"]),wrapText:c.bool};Rt.defaultProps={type:"single",showMoreText:"Show more",showLessText:"Show less",wrapText:!1};var ai=["ariaLabel","className","direction","disabled","downshiftProps","helperText","id","initialSelectedItem","invalid","invalidText","items","itemToElement","itemToString","light","onChange","onInputChange","onToggleClick","placeholder","selectedItem","shouldFilterItem","size","titleText","translateWithId","type","warn","warnText"];function de(){return de=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},de.apply(this,arguments)}function Zt(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ut(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Zt(Object(t),!0).forEach(function(n){pe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Zt(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function pe(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function dt(r,e){return ui(r)||ci(r,e)||li(r,e)||si()}function si(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function li(r,e){if(r){if(typeof r=="string")return Kt(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Kt(r,e)}}function Kt(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function ci(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,a,s;try{for(t=t.call(r);!(i=(a=t.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return n}}function ui(r){if(Array.isArray(r))return r}function pi(r,e){if(r==null)return{};var t=di(r,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function di(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}var hi=function(e){return typeof e=="string"?e:e&&e.label},fi=function(){return!0},Xt=function(e){var t=e.initialSelectedItem,n=e.inputValue,i=e.itemToString,o=e.selectedItem;return o?i(o):t?i(t):n||""},mi=function(e,t){var n=e.items,i=e.itemToString;if(!t)return-1;for(var o=t.toLowerCase(),a=0;a<n.length;a++){var s=i(n[a]).toLowerCase();if(s.indexOf(o)!==-1)return a}return-1},gi=cr(),it=f.forwardRef(function(r,e){var t,n=r.ariaLabel,i=r.className,o=r.direction,a=r.disabled,s=r.downshiftProps,l=r.helperText,p=r.id,u=r.initialSelectedItem,h=r.invalid,d=r.invalidText,m=r.items,k=r.itemToElement,g=r.itemToString,T=r.light,I=r.onChange,C=r.onInputChange,U=r.onToggleClick,L=r.placeholder,j=r.selectedItem,he=r.shouldFilterItem,W=r.size,K=r.titleText,ie=r.translateWithId;r.type;var fe=r.warn,Te=r.warnText,X=pi(r,ai),R=tt(),B=w.useRef(),b=gi(),Se=w.useState(Xt({initialSelectedItem:u,inputValue:"",itemToString:g,selectedItem:j})),q=dt(Se,2),G=q[0],le=q[1],E=w.useState(null),M=dt(E,2),De=M[0],Re=M[1],F=w.useState(null),Z=dt(F,2),_e=Z[0],me=Z[1],ge=w.useRef(C);(!_e||De!==j)&&(me(!0),Re(j),le(Xt({initialSelectedItem:u,inputValue:G,itemToString:g,selectedItem:j})));var Ie=function(z,te,Ne){return z.filter(function(Ee){return he({item:Ee,itemToString:te,inputValue:Ne})})},be=function(z){I&&I({selectedItem:z})},O=function(z){le(z||"")};w.useEffect(function(){ge.current=C},[C]),w.useEffect(function(){ge.current&&ge.current(G)},[G]);var Ce=function(){B!=null&&B.current&&B.current.focus()},J=function(z,te){var Ne=te.setHighlightedIndex;if(Object.prototype.hasOwnProperty.call(z,"inputValue")){var Ee=z.inputValue,lt=Ie(m,g,Ee);Ne(mi(Ut(Ut({},r),{},{items:lt}),Ee))}},Oe=function(z){return function(te){U&&U(te),te.target===B.current&&z&&(te.preventDownshiftDefault=!0,te.persist())}},ce=bn("enable-v11-release"),Y=!h&&fe,P=H("".concat(R,"--combo-box"),[ce?null:i],(t={},pe(t,"".concat(R,"--list-box--up"),o==="top"),pe(t,"".concat(R,"--combo-box--warning"),Y),t)),N=H("".concat(R,"--label"),pe({},"".concat(R,"--label--disabled"),a)),$=l?"combobox-helper-text-".concat(b):void 0,A=H("".concat(R,"--form__helper-text"),pe({},"".concat(R,"--form__helper-text--disabled"),a)),ee=H("".concat(R,"--list-box__wrapper"),[ce?i:null]),oe=H("".concat(R,"--text-input"),pe({},"".concat(R,"--text-input--empty"),!G)),$e=k;return f.createElement(wn,de({},yn(s),{onChange:be,onInputValueChange:O,onStateChange:J,inputValue:G||"",itemToString:g,initialSelectedItem:u,inputId:p,selectedItem:j}),function(_){var z,te=_.getInputProps,Ne=_.getItemProps,Ee=_.getLabelProps,lt=_.getMenuProps,Vn=_.getRootProps,Wn=_.getToggleButtonProps,Ae=_.isOpen,ct=_.inputValue,ae=_.selectedItem,Nt=_.highlightedIndex,Gn=_.clearSelection,At=_.toggleMenu,Qn=Vn({},{suppressRefError:!0}),Hn=Ee(),Fn=Wn({disabled:a,onClick:Oe(Ae),onMouseUp:function(se){Ae&&se.stopPropagation()}}),jt=te({"aria-labelledby":null,disabled:a,placeholder:L,onClick:function(){At()},onKeyDown:function(se){Lt(se,ur)&&se.stopPropagation(),Lt(se,pr)&&!ct&&At()}});return f.createElement("div",{className:ee},K&&f.createElement(Bt,de({as:"label",className:N},Hn),K),f.createElement(ye,{className:P,disabled:a,invalid:h,invalidText:d,isOpen:Ae,light:T,size:W,warn:fe,warnText:Te},f.createElement("div",{className:"".concat(R,"--list-box__field")},f.createElement("input",de({role:"combobox",disabled:a,className:oe,type:"text",tabIndex:"0","aria-autocomplete":"list","aria-expanded":Qn["aria-expanded"],"aria-haspopup":"listbox","aria-controls":jt["aria-controls"],title:B==null||(z=B.current)===null||z===void 0?void 0:z.value},jt,X,{ref:Tn(B,e)})),h&&f.createElement(Sn,{className:"".concat(R,"--list-box__invalid-icon")}),Y&&f.createElement(Rn,{className:"".concat(R,"--list-box__invalid-icon ").concat(R,"--list-box__invalid-icon--warning")}),ct&&f.createElement(gr,{clearSelection:Gn,translateWithId:ie,disabled:a,onClearSelection:Ce}),f.createElement(br,de({},Fn,{isOpen:Ae,translateWithId:ie}))),f.createElement(ye.Menu,lt({"aria-label":n}),Ae?Ie(m,g,ct).map(function(Q,se){var Ge,ut=Ne((Ge={item:Q,index:se},pe(Ge,"aria-current",ae===Q?!0:null),pe(Ge,"aria-selected",Nt===se?!0:null),Ge));return f.createElement(ye.MenuItem,de({key:ut.id,isActive:ae===Q,tabIndex:"-1",isHighlighted:Nt===se||(ae==null?void 0:ae.id)&&(ae==null?void 0:ae.id)===Q.id||!1,title:k?Q.text:g(Q)},ut),k?f.createElement($e,de({key:ut.id},Q)):g(Q),ae===Q&&f.createElement(xn,{className:"".concat(R,"--list-box__menu-item__selected-icon")}))}):null)),l&&!h&&!fe&&f.createElement(Bt,{as:"div",id:$,className:A},l))})});it.displayName="ComboBox";it.propTypes={ariaLabel:c.string,className:c.string,direction:c.oneOf(["top","bottom"]),disabled:c.bool,downshiftProps:c.shape(wn.propTypes),helperText:c.string,id:c.string.isRequired,initialSelectedItem:c.oneOfType([c.object,c.string,c.number]),invalid:c.bool,invalidText:c.node,itemToElement:c.func,itemToString:c.func,items:c.array.isRequired,light:c.bool,onChange:c.func.isRequired,onInputChange:c.func,onToggleClick:c.func,placeholder:c.string.isRequired,selectedItem:c.oneOfType([c.object,c.string,c.number]),shouldFilterItem:c.func,size:kn,titleText:c.node,translateWithId:c.func,type:vn,warn:c.bool,warnText:c.node};it.defaultProps={disabled:!1,itemToString:hi,itemToElement:null,shouldFilterItem:fi,type:"default",ariaLabel:"Choose an item",light:!1,direction:"bottom"};const Jt=it;var bi=["className","disabled","direction","items","label","ariaLabel","itemToString","itemToElement","type","size","onChange","id","titleText","hideLabel","helperText","translateWithId","light","invalid","invalidText","warn","warnText","initialSelectedItem","selectedItem","downshiftProps"];function we(){return we=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},we.apply(this,arguments)}function Yt(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function en(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yt(Object(t),!0).forEach(function(n){D(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Yt(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function D(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function xi(r,e){if(r==null)return{};var t=wi(r,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function wi(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}var yi=function(e){return typeof e=="string"?e:e?e.label:""},ot=f.forwardRef(function(e,t){var n,i,o,a=e.className,s=e.disabled,l=e.direction,p=e.items,u=e.label,h=e.ariaLabel,d=e.itemToString,m=e.itemToElement,k=e.type,g=e.size,T=e.onChange,I=e.id,C=e.titleText,U=e.hideLabel,L=e.helperText,j=e.translateWithId,he=e.light,W=e.invalid,K=e.invalidText,ie=e.warn,fe=e.warnText,Te=e.initialSelectedItem,X=e.selectedItem,R=e.downshiftProps,B=xi(e,bi),b=tt(),Se=yn(en(en({},R),{},{items:p,itemToString:d,initialSelectedItem:Te,onSelectedItemChange:ce}));X!==void 0&&(Se.selectedItem=X);var q=xr(Se),G=q.isOpen,le=q.getToggleButtonProps,E=q.getLabelProps,M=q.getMenuProps,De=q.getItemProps,Re=q.highlightedIndex,F=q.selectedItem,Z=k==="inline",_e=!W&&ie,me=bn("enable-v11-release"),ge=H("".concat(b,"--dropdown"),[me?null:a],(n={},D(n,"".concat(b,"--dropdown--invalid"),W),D(n,"".concat(b,"--dropdown--warning"),_e),D(n,"".concat(b,"--dropdown--open"),G),D(n,"".concat(b,"--dropdown--inline"),Z),D(n,"".concat(b,"--dropdown--disabled"),s),D(n,"".concat(b,"--dropdown--light"),he),D(n,"".concat(b,"--dropdown--").concat(g),g),D(n,"".concat(b,"--list-box--up"),l==="top"),n)),Ie=H("".concat(b,"--label"),(i={},D(i,"".concat(b,"--label--disabled"),s),D(i,"".concat(b,"--visually-hidden"),U),i)),be=H("".concat(b,"--form__helper-text"),D({},"".concat(b,"--form__helper-text--disabled"),s)),O=H("".concat(b,"--dropdown__wrapper"),"".concat(b,"--list-box__wrapper"),[me?a:null],(o={},D(o,"".concat(b,"--dropdown__wrapper--inline"),Z),D(o,"".concat(b,"--list-box__wrapper--inline"),Z),D(o,"".concat(b,"--dropdown__wrapper--inline--invalid"),Z&&W),D(o,"".concat(b,"--list-box__wrapper--inline--invalid"),Z&&W),o)),Ce=m,J=le(),Oe=L?f.createElement("div",{className:be},L):null;function ce(P){var N=P.selectedItem;T&&T({selectedItem:N})}var Y=w.useRef(p.map(function(P){return f.createRef()}));return f.createElement("div",we({className:O},B),C&&f.createElement("label",we({className:Ie},E()),C),f.createElement(ye,{"aria-label":h,size:g,className:ge,invalid:W,invalidText:K,warn:ie,warnText:fe,light:he,isOpen:G,id:I},W&&f.createElement(Sn,{className:"".concat(b,"--list-box__invalid-icon")}),_e&&f.createElement(Rn,{className:"".concat(b,"--list-box__invalid-icon ").concat(b,"--list-box__invalid-icon--warning")}),f.createElement("button",we({type:"button",className:"".concat(b,"--list-box__field"),disabled:s,"aria-disabled":s,title:F?d(F):u},J,{ref:Tn(J.ref,t)}),f.createElement("span",{className:"".concat(b,"--list-box__label")},F?d(F):u),f.createElement(ye.MenuIcon,{isOpen:G,translateWithId:j})),f.createElement(ye.Menu,M(),G&&p.map(function(P,N){var $,A=De({item:P,index:N}),ee=m?P.text:d(P),oe=(Y==null||($=Y.current[N])===null||$===void 0?void 0:$.current)||{},$e=oe.offsetWidth,_=oe.scrollWidth;return f.createElement(ye.MenuItem,we({key:A.id,isActive:F===P,isHighlighted:Re===N||F===P,title:$e<_&&ee||void 0,ref:{menuItemOptionRef:Y.current[N]}},A),m?f.createElement(Ce,we({key:A.id},P)):d(P),F===P&&f.createElement(xn,{className:"".concat(b,"--list-box__menu-item__selected-icon")}))}))),!Z&&!W&&!ie&&Oe)});ot.displayName="Dropdown";ot.propTypes={ariaLabel:c.string,className:c.string,direction:c.oneOf(["top","bottom"]),disabled:c.bool,downshiftProps:c.object,helperText:c.oneOfType([c.string,c.node]),hideLabel:c.bool,id:c.string.isRequired,initialSelectedItem:c.oneOfType([c.object,c.string,c.number]),inline:dr(c.bool),invalid:c.bool,invalidText:c.node,itemToElement:c.func,itemToString:c.func,items:c.array.isRequired,label:c.node.isRequired,light:c.bool,onChange:c.func,selectedItem:c.oneOfType([c.object,c.string,c.number]),size:kn,titleText:c.node,translateWithId:c.func,type:vn,warn:c.bool,warnText:c.node};ot.defaultProps={disabled:!1,type:"default",itemToString:yi,itemToElement:null,light:!1,titleText:"",helperText:"",direction:"bottom"};const ki=ot,at=`${gn.prefix}--structured-query`,_t=`${at}__rule-group`,vi=`${_t}--nested`,Ti=`${_t}-dropdown`,In=`${at}__rules`,Cn=`${In}__buttons`,Si=`${at}__copyable-query`,mt=({messages:r,structuredQuerySelection:e,setStructuredQuerySelection:t,groupId:n})=>{const i=[{label:r.ruleGroupDropdownAllOptionText,value:","},{label:r.ruleGroupDropdownAnyOptionText,value:"|"}],o=s=>{t({...e,groups:{...e.groups,[`${n}`]:{...e.groups[n],operator:s.selectedItem.value}}})},a=S.jsx(ki,{id:"structured-query-dropdown",items:i,type:"inline",initialSelectedItem:r.ruleGroupDropdownAllOptionText,label:r.ruleGroupDropdownLabelText,onChange:o},"structured-query-dropdown");return S.jsx("div",{className:Ti,children:wr(r.ruleGroupDropdownText,{dropdown:a})})};try{mt.displayName="RuleGroupDropdown",mt.__docgenInfo={description:"",displayName:"RuleGroupDropdown",props:{messages:{defaultValue:null,description:"override default messages for the component by specifying custom and/or internationalized text strings",name:"messages",required:!0,type:{name:"Messages"}},structuredQuerySelection:{defaultValue:null,description:"state that represents the current rules and selections for the structured query",name:"structuredQuerySelection",required:!0,type:{name:"StructuredQuerySelection"}},setStructuredQuerySelection:{defaultValue:null,description:"used to set the structuredQuerySelection state",name:"setStructuredQuerySelection",required:!0,type:{name:"Dispatch<SetStateAction<StructuredQuerySelection>>"}},groupId:{defaultValue:null,description:"id of the group for the rule group dropdown",name:"groupId",required:!0,type:{name:"number"}}}}}catch{}const gt=({removeRuleRowButtonIconDescription:r,groupId:e,rowId:t,structuredQuerySelection:n,setStructuredQuerySelection:i})=>{const o=()=>{const a=n.groups[e].rows.filter(p=>p!==t),s=qt(n.rows,t),l=a.length===0;i(l?{...n,groups:{...qt(n.groups,e)},rows:{...s},group_order:n.group_order.filter(p=>p!==e)}:{...n,groups:{...n.groups,[`${e}`]:{...n.groups[e],rows:a}},rows:{...s}})};return S.jsx(nt,{hasIconOnly:!0,kind:"ghost",renderIcon:kr,iconDescription:r,onClick:o,"data-testid":`remove-rule-row-button-${e}`})};try{gt.displayName="RemoveRuleRowButton",gt.__docgenInfo={description:"",displayName:"RemoveRuleRowButton",props:{removeRuleRowButtonIconDescription:{defaultValue:null,description:"text to display for the Remove rule button icon description",name:"removeRuleRowButtonIconDescription",required:!0,type:{name:"string"}},groupId:{defaultValue:null,description:"id of the group for the rule row to render",name:"groupId",required:!0,type:{name:"number"}},rowId:{defaultValue:null,description:"id of the rule row to remove",name:"rowId",required:!0,type:{name:"number"}},structuredQuerySelection:{defaultValue:null,description:"state that represents the current rules and selections for the structured query",name:"structuredQuerySelection",required:!0,type:{name:"StructuredQuerySelection"}},setStructuredQuerySelection:{defaultValue:null,description:"used to set the structuredQuerySelection state",name:"setStructuredQuerySelection",required:!0,type:{name:"Dispatch<SetStateAction<StructuredQuerySelection>>"}}}}}catch{}const Ri=r=>r&&r.fields?r.fields.reduce((n,i)=>(i.type==="nested"||i.field&&!n.includes(i.field)&&n.push(i.field),n),[]):[],bt=r=>{const e=Object.keys(r).reduce((t,n)=>Math.max(parseInt(t),parseInt(n)).toString());return parseInt(e)+1},_i=r=>{let e="";return e+=r.group_order.map(t=>t===0?tn(r,t):"("+tn(r,t)+")").join(r.groups[0].operator),e},tn=(r,e)=>r.groups[e].rows.map(t=>{const n=r.rows[t],i=Ci(n.field),o=n.value===""?n.value:'"'+Ii(n.value)+'"';return`${i}${n.operator}${o}`}).join(r.groups[e].operator),Ii=r=>r.replace(/(["])/g,'\\"'),Ci=r=>{const e=n=>n.replace(n,`\\${n}`),t=/([,|:!"\\()[\]^~<>*])/g;return r.replace(t,e)},xt=({messages:r,groupId:e,rowId:t,structuredQuerySelection:n,setStructuredQuerySelection:i})=>{const{fieldsStore:{data:o,isLoading:a,isError:s}}=w.useContext(er),l=Ri(o),p=[{label:r.operatorDropdownIsOptionText,value:"::"},{label:r.operatorDropdownIsNotOptionText,value:"::!"},{label:r.operatorDropdownContainsOptionText,value:":"},{label:r.operatorDropdownDoesNotContainOptionText,value:":!"}],u=e===0,h=n.groups[e].rows.length>1||!u,d=T=>{const I=T.selectedItem===null?"":T.selectedItem;i({...n,rows:{...n.rows,[`${t}`]:{...n.rows[t],field:I}}})},m=T=>{const I=T.selectedItem===null?"":T.selectedItem.value;i({...n,rows:{...n.rows,[`${t}`]:{...n.rows[t],operator:I}}})},k=T=>{const I=T.currentTarget.value;i({...n,rows:{...n.rows,[`${t}`]:{...n.rows[t],value:I}}})};let g;return a?g=r.fieldDropdownLoadingText:s?g=r.fieldDropdownErrorText:g=r.fieldDropdownPlaceholderText,S.jsxs("div",{className:In,"data-testid":`rule-row-${e}`,children:[S.jsx(Jt,{id:`structured-query-rules-field-${e}`,items:l,placeholder:g,titleText:r.fieldDropdownTitleText,disabled:a||s,onChange:d}),S.jsx(Jt,{id:`structured-query-rules-operator-${e}`,items:p,placeholder:r.operatorDropdownPlaceholderText,titleText:r.operatorDropdownTitleText,onChange:m}),S.jsx(yr,{id:`structured-query-rules-value-${e}`,labelText:r.valueInputLabelText,placeholder:r.valueInputPlaceholderText,onChange:k}),h&&S.jsx(gt,{removeRuleRowButtonIconDescription:r.removeRuleRowButtonIconDescription,groupId:e,rowId:t,structuredQuerySelection:n,setStructuredQuerySelection:i})]})};try{xt.displayName="RuleRow",xt.__docgenInfo={description:"",displayName:"RuleRow",props:{messages:{defaultValue:null,description:"override default messages for the component by specifying custom and/or internationalized text strings",name:"messages",required:!0,type:{name:"Messages"}},groupId:{defaultValue:null,description:"id of the group for the rule row to render",name:"groupId",required:!0,type:{name:"number"}},rowId:{defaultValue:null,description:"id of the rule row to render",name:"rowId",required:!0,type:{name:"number"}},structuredQuerySelection:{defaultValue:null,description:"state that represents the current rules and selections for the structured query",name:"structuredQuerySelection",required:!0,type:{name:"StructuredQuerySelection"}},setStructuredQuerySelection:{defaultValue:null,description:"used to set the structuredQuerySelection state",name:"setStructuredQuerySelection",required:!0,type:{name:"Dispatch<SetStateAction<StructuredQuerySelection>>"}}}}}catch{}const Ke=({addRuleRowText:r,groupId:e,structuredQuerySelection:t,setStructuredQuerySelection:n})=>{const i=()=>{const o=bt(t.rows);n({...t,groups:{...t.groups,[`${e}`]:{...t.groups[e],rows:t.groups[e].rows.concat(o)}},rows:{...t.rows,[`${o}`]:{field:"",operator:"",value:""}}})};return S.jsx(nt,{kind:"ghost",renderIcon:_n,onClick:i,children:r})};try{Ke.displayName="AddRuleRowButton",Ke.__docgenInfo={description:"",displayName:"AddRuleRowButton",props:{addRuleRowText:{defaultValue:null,description:"text to display for the Add rule button",name:"addRuleRowText",required:!0,type:{name:"string"}},groupId:{defaultValue:null,description:"id of the group for the rule row to render",name:"groupId",required:!0,type:{name:"number"}},structuredQuerySelection:{defaultValue:null,description:"state that represents the current rules and selections for the structured query",name:"structuredQuerySelection",required:!0,type:{name:"StructuredQuerySelection"}},setStructuredQuerySelection:{defaultValue:null,description:"used to set the structuredQuerySelection state",name:"setStructuredQuerySelection",required:!0,type:{name:"Dispatch<SetStateAction<StructuredQuerySelection>>"}}}}}catch{}const On=3,Oi=5,wt=({messages:r,groupId:e,structuredQuerySelection:t,setStructuredQuerySelection:n})=>{const i=t.groups[e].rows,o=e===0,a=i.length<On&&!o,s=[_t];return o||s.push(vi),S.jsxs("div",{className:s.join(" "),"data-testid":"rule-group",children:[S.jsx(mt,{messages:r,setStructuredQuerySelection:n,structuredQuerySelection:t,groupId:e}),i.map(l=>{const p=e.toString()+l.toString();return S.jsx(xt,{messages:r,groupId:e,rowId:l,setStructuredQuerySelection:n,structuredQuerySelection:t},p)}),S.jsx("div",{className:Cn,children:a&&S.jsx(Ke,{addRuleRowText:r.addRuleRowText,groupId:e,setStructuredQuerySelection:n,structuredQuerySelection:t},e)})]})};try{wt.displayName="RuleGroup",wt.__docgenInfo={description:"",displayName:"RuleGroup",props:{messages:{defaultValue:null,description:"override default messages for the component by specifying custom and/or internationalized text strings",name:"messages",required:!0,type:{name:"Messages"}},groupId:{defaultValue:null,description:"id of the group for the rule row to render",name:"groupId",required:!0,type:{name:"number"}},structuredQuerySelection:{defaultValue:null,description:"state that represents the current rules and selections for the structured query",name:"structuredQuerySelection",required:!0,type:{name:"StructuredQuerySelection"}},setStructuredQuerySelection:{defaultValue:null,description:"used to set the structuredQuerySelection state",name:"setStructuredQuerySelection",required:!0,type:{name:"Dispatch<SetStateAction<StructuredQuerySelection>>"}}}}}catch{}const yt=({addRuleGroupText:r,structuredQuerySelection:e,setStructuredQuerySelection:t})=>{const n=()=>{const i=bt(e.groups),o=bt(e.rows);t({...e,groups:{...e.groups,[`${i}`]:{rows:[o]}},rows:{...e.rows,[`${o}`]:{field:"",operator:"",value:""}},group_order:e.group_order.concat(i)})};return S.jsx(nt,{kind:"ghost",renderIcon:_n,onClick:n,children:r})};try{yt.displayName="AddRuleGroupButton",yt.__docgenInfo={description:"",displayName:"AddRuleGroupButton",props:{addRuleGroupText:{defaultValue:null,description:"text to display for the Add rule group button",name:"addRuleGroupText",required:!0,type:{name:"string"}},structuredQuerySelection:{defaultValue:null,description:"state that represents the current rules and selections for the structured query",name:"structuredQuerySelection",required:!0,type:{name:"StructuredQuerySelection"}},setStructuredQuerySelection:{defaultValue:null,description:"used to set the structuredQuerySelection state",name:"setStructuredQuerySelection",required:!0,type:{name:"Dispatch<SetStateAction<StructuredQuerySelection>>"}}}}}catch{}const kt={ruleGroupDropdownText:"Satisfy {dropdown} of the following rules",ruleGroupDropdownAllOptionText:"all",ruleGroupDropdownAnyOptionText:"any",ruleGroupDropdownLabelText:"Choose whether to satisfy all or any of the following rules",fieldDropdownPlaceholderText:"Select field",fieldDropdownTitleText:"Field",fieldDropdownLoadingText:"Loading project fields",fieldDropdownErrorText:"Error loading project fields",operatorDropdownIsOptionText:"is",operatorDropdownIsNotOptionText:"is not",operatorDropdownContainsOptionText:"contains",operatorDropdownDoesNotContainOptionText:"does not contain",operatorDropdownPlaceholderText:"Select operator",operatorDropdownTitleText:"Operator",valueInputLabelText:"Value",valueInputPlaceholderText:"Enter value",addRuleRowText:"Add rule",removeRuleRowButtonIconDescription:"Remove rule",addRuleGroupText:"Add group of rules"},$i=({messages:r=kt})=>{const e={...kt,...r},[t,n]=w.useState({groups:{0:{rows:[0],operator:","}},rows:{0:{field:"",operator:"",value:""}},group_order:[0]}),i=_i(t),o=t.groups[0].rows.length<On,a=Object.keys(t.groups).length-1<Oi,{fetchFields:s}=w.useContext(ir);return w.useEffect(()=>{s()},[s]),S.jsxs("div",{className:at,children:[t.group_order.map(l=>S.jsx(wt,{messages:e,groupId:l,structuredQuerySelection:t,setStructuredQuerySelection:n},l)),S.jsxs("div",{className:Cn,children:[o&&S.jsx(Ke,{addRuleRowText:e.addRuleRowText,setStructuredQuerySelection:n,structuredQuerySelection:t,groupId:0}),a&&S.jsx(yt,{addRuleGroupText:e.addRuleGroupText,setStructuredQuerySelection:n,structuredQuerySelection:t})]}),i&&S.jsx(Rt,{className:`${Si}`,children:i})]})},$n=tr($i,nr("StructuredQuery"),rr);function It(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let ve=It();function En(r){ve=r}const Pn=/[&<>"']/,Ei=new RegExp(Pn.source,"g"),Dn=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Pi=new RegExp(Dn.source,"g"),Di={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nn=r=>Di[r];function V(r,e){if(e){if(Pn.test(r))return r.replace(Ei,nn)}else if(Dn.test(r))return r.replace(Pi,nn);return r}const Ni=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Ai(r){return r.replace(Ni,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const ji=/(^|[^\[])\^/g;function y(r,e){let t=typeof r=="string"?r:r.source;e=e||"";const n={replace:(i,o)=>{let a=typeof o=="string"?o:o.source;return a=a.replace(ji,"$1"),t=t.replace(i,a),n},getRegex:()=>new RegExp(t,e)};return n}function rn(r){try{r=encodeURI(r).replace(/%25/g,"%")}catch{return null}return r}const Be={exec:()=>null};function on(r,e){const t=r.replace(/\|/g,(o,a,s)=>{let l=!1,p=a;for(;--p>=0&&s[p]==="\\";)l=!l;return l?"|":" |"}),n=t.split(/ \|/);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function Fe(r,e,t){const n=r.length;if(n===0)return"";let i=0;for(;i<n;){const o=r.charAt(n-i-1);if(o===e&&!t)i++;else if(o!==e&&t)i++;else break}return r.slice(0,n-i)}function zi(r,e){if(r.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<r.length;n++)if(r[n]==="\\")n++;else if(r[n]===e[0])t++;else if(r[n]===e[1]&&(t--,t<0))return n;return-1}function an(r,e,t,n){const i=e.href,o=e.title?V(e.title):null,a=r[1].replace(/\\([\[\]])/g,"$1");if(r[0].charAt(0)!=="!"){n.state.inLink=!0;const s={type:"link",raw:t,href:i,title:o,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,s}return{type:"image",raw:t,href:i,title:o,text:V(a)}}function Li(r,e){const t=r.match(/^(\s+)(?:```)/);if(t===null)return e;const n=t[1];return e.split(`
`).map(i=>{const o=i.match(/^\s+/);if(o===null)return i;const[a]=o;return a.length>=n.length?i.slice(n.length):i}).join(`
`)}class Xe{constructor(e){v(this,"options");v(this,"rules");v(this,"lexer");this.options=e||ve}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Fe(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],i=Li(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const i=Fe(n,"#");(this.options.pedantic||!i||/ $/.test(i))&&(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const n=Fe(t[0].replace(/^ *>[ \t]?/gm,""),`
`),i=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(n);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:o,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const i=n.length>1,o={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const a=new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`);let s="",l="",p=!1;for(;e;){let u=!1;if(!(t=a.exec(e))||this.rules.block.hr.test(e))break;s=t[0],e=e.substring(s.length);let h=t[2].split(`
`,1)[0].replace(/^\t+/,I=>" ".repeat(3*I.length)),d=e.split(`
`,1)[0],m=0;this.options.pedantic?(m=2,l=h.trimStart()):(m=t[2].search(/[^ ]/),m=m>4?1:m,l=h.slice(m),m+=t[1].length);let k=!1;if(!h&&/^ *$/.test(d)&&(s+=d+`
`,e=e.substring(d.length+1),u=!0),!u){const I=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),C=new RegExp(`^ {0,${Math.min(3,m-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),U=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:\`\`\`|~~~)`),L=new RegExp(`^ {0,${Math.min(3,m-1)}}#`);for(;e;){const j=e.split(`
`,1)[0];if(d=j,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),U.test(d)||L.test(d)||I.test(d)||C.test(e))break;if(d.search(/[^ ]/)>=m||!d.trim())l+=`
`+d.slice(m);else{if(k||h.search(/[^ ]/)>=4||U.test(h)||L.test(h)||C.test(h))break;l+=`
`+d}!k&&!d.trim()&&(k=!0),s+=j+`
`,e=e.substring(j.length+1),h=d.slice(m)}}o.loose||(p?o.loose=!0:/\n *\n *$/.test(s)&&(p=!0));let g=null,T;this.options.gfm&&(g=/^\[[ xX]\] /.exec(l),g&&(T=g[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:s,task:!!g,checked:T,loose:!1,text:l,tokens:[]}),o.raw+=s}o.items[o.items.length-1].raw=s.trimEnd(),o.items[o.items.length-1].text=l.trimEnd(),o.raw=o.raw.trimEnd();for(let u=0;u<o.items.length;u++)if(this.lexer.state.top=!1,o.items[u].tokens=this.lexer.blockTokens(o.items[u].text,[]),!o.loose){const h=o.items[u].tokens.filter(m=>m.type==="space"),d=h.length>0&&h.some(m=>/\n.*\n/.test(m.raw));o.loose=d}if(o.loose)for(let u=0;u<o.items.length;u++)o.items[u].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:i,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const n=on(t[1]),i=t[2].replace(/^\||\| *$/g,"").split("|"),o=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],a={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const s of i)/^ *-+: *$/.test(s)?a.align.push("right"):/^ *:-+: *$/.test(s)?a.align.push("center"):/^ *:-+ *$/.test(s)?a.align.push("left"):a.align.push(null);for(const s of n)a.header.push({text:s,tokens:this.lexer.inline(s)});for(const s of o)a.rows.push(on(s,a.header.length).map(l=>({text:l,tokens:this.lexer.inline(l)})));return a}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:V(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const a=Fe(n.slice(0,-1),"\\");if((n.length-a.length)%2===0)return}else{const a=zi(t[2],"()");if(a>-1){const l=(t[0].indexOf("!")===0?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let i=t[2],o="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);a&&(i=a[1],o=a[3])}else o=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(n)?i=i.slice(1):i=i.slice(1,-1)),an(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const i=(n[2]||n[1]).replace(/\s+/g," "),o=t[i.toLowerCase()];if(!o){const a=n[0].charAt(0);return{type:"text",raw:a,text:a}}return an(n,o,n[0],this.lexer)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const a=[...i[0]].length-1;let s,l,p=a,u=0;const h=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+a);(i=h.exec(t))!=null;){if(s=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!s)continue;if(l=[...s].length,i[3]||i[4]){p+=l;continue}else if((i[5]||i[6])&&a%3&&!((a+l)%3)){u+=l;continue}if(p-=l,p>0)continue;l=Math.min(l,l+p+u);const d=[...i[0]][0].length,m=e.slice(0,a+i.index+d+l);if(Math.min(a,l)%2){const g=m.slice(1,-1);return{type:"em",raw:m,text:g,tokens:this.lexer.inlineTokens(g)}}const k=m.slice(2,-2);return{type:"strong",raw:m,text:k,tokens:this.lexer.inlineTokens(k)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const i=/[^ ]/.test(n),o=/^ /.test(n)&&/ $/.test(n);return i&&o&&(n=n.substring(1,n.length-1)),n=V(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,i;return t[2]==="@"?(n=V(t[1]),i="mailto:"+n):(n=V(t[1]),i=n),{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let i,o;if(t[2]==="@")i=V(t[0]),o="mailto:"+i;else{let a;do a=t[0],t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??"";while(a!==t[0]);i=V(t[0]),t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let n;return this.lexer.state.inRawBlock?n=t[0]:n=V(t[0]),{type:"text",raw:t[0],text:n}}}}const Bi=/^(?: *(?:\n|$))+/,qi=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,Mi=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ve=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Vi=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Nn=/(?:[*+-]|\d{1,9}[.)])/,An=y(/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Nn).getRegex(),Ct=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Wi=/^[^\n]+/,Ot=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Gi=y(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Ot).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Qi=y(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Nn).getRegex(),st="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$t=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Hi=y("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",$t).replace("tag",st).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),jn=y(Ct).replace("hr",Ve).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",st).getRegex(),Fi=y(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",jn).getRegex(),Et={blockquote:Fi,code:qi,def:Gi,fences:Mi,heading:Vi,hr:Ve,html:Hi,lheading:An,list:Qi,newline:Bi,paragraph:jn,table:Be,text:Wi},sn=y("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ve).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",st).getRegex(),Zi={...Et,table:sn,paragraph:y(Ct).replace("hr",Ve).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",sn).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",st).getRegex()},Ui={...Et,html:y(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",$t).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Be,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:y(Ct).replace("hr",Ve).replace("heading",` *#{1,6} *[^
]`).replace("lheading",An).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},zn=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ki=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Ln=/^( {2,}|\\)\n(?!\s*$)/,Xi=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,We="\\p{P}$+<=>`^|~",Ji=y(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,We).getRegex(),Yi=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,eo=y(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,We).getRegex(),to=y("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,We).getRegex(),no=y("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,We).getRegex(),ro=y(/\\([punct])/,"gu").replace(/punct/g,We).getRegex(),io=y(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),oo=y($t).replace("(?:-->|$)","-->").getRegex(),ao=y("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",oo).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Je=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,so=y(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Je).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Bn=y(/^!?\[(label)\]\[(ref)\]/).replace("label",Je).replace("ref",Ot).getRegex(),qn=y(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ot).getRegex(),lo=y("reflink|nolink(?!\\()","g").replace("reflink",Bn).replace("nolink",qn).getRegex(),Pt={_backpedal:Be,anyPunctuation:ro,autolink:io,blockSkip:Yi,br:Ln,code:Ki,del:Be,emStrongLDelim:eo,emStrongRDelimAst:to,emStrongRDelimUnd:no,escape:zn,link:so,nolink:qn,punctuation:Ji,reflink:Bn,reflinkSearch:lo,tag:ao,text:Xi,url:Be},co={...Pt,link:y(/^!?\[(label)\]\((.*?)\)/).replace("label",Je).getRegex(),reflink:y(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Je).getRegex()},vt={...Pt,escape:y(zn).replace("])","~|])").getRegex(),url:y(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},uo={...vt,br:y(Ln).replace("{2,}","*").getRegex(),text:y(vt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ze={normal:Et,gfm:Zi,pedantic:Ui},ze={normal:Pt,gfm:vt,breaks:uo,pedantic:co};class ne{constructor(e){v(this,"tokens");v(this,"options");v(this,"state");v(this,"tokenizer");v(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ve,this.options.tokenizer=this.options.tokenizer||new Xe,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Ze.normal,inline:ze.normal};this.options.pedantic?(t.block=Ze.pedantic,t.inline=ze.pedantic):this.options.gfm&&(t.block=Ze.gfm,this.options.breaks?t.inline=ze.breaks:t.inline=ze.gfm),this.tokenizer.rules=t}static get rules(){return{block:Ze,inline:ze}}static lex(e,t){return new ne(t).lex(e)}static lexInline(e,t){return new ne(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(s,l,p)=>l+"    ".repeat(p.length));let n,i,o,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(s=>(n=s.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let s=1/0;const l=e.slice(1);let p;this.options.extensions.startBlock.forEach(u=>{p=u.call({lexer:this},l),typeof p=="number"&&p>=0&&(s=Math.min(s,p))}),s<1/0&&s>=0&&(o=e.substring(0,s+1))}if(this.state.top&&(n=this.tokenizer.paragraph(o))){i=t[t.length-1],a&&i.type==="paragraph"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n),a=o.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&i.type==="text"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);continue}if(e){const s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,i,o,a=e,s,l,p;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)u.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(a))!=null;)a=a.slice(0,s.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(p=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(n=u.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),i=t[t.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,a,p)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e))){e=e.substring(n.raw.length),t.push(n);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const h=e.slice(1);let d;this.options.extensions.startInline.forEach(m=>{d=m.call({lexer:this},h),typeof d=="number"&&d>=0&&(u=Math.min(u,d))}),u<1/0&&u>=0&&(o=e.substring(0,u+1))}if(n=this.tokenizer.inlineText(o)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(p=n.raw.slice(-1)),l=!0,i=t[t.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return t}}class Ye{constructor(e){v(this,"options");this.options=e||ve}code(e,t,n){var o;const i=(o=(t||"").match(/^\S*/))==null?void 0:o[0];return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="language-'+V(i)+'">'+(n?e:V(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:V(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,n){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,n){const i=t?"ol":"ul",o=t&&n!==1?' start="'+n+'"':"";return"<"+i+o+`>
`+e+"</"+i+`>
`}listitem(e,t,n){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){const i=rn(e);if(i===null)return n;e=i;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>",o}image(e,t,n){const i=rn(e);if(i===null)return n;e=i;let o=`<img src="${e}" alt="${n}"`;return t&&(o+=` title="${t}"`),o+=">",o}text(e){return e}}class Dt{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class re{constructor(e){v(this,"options");v(this,"renderer");v(this,"textRenderer");this.options=e||ve,this.options.renderer=this.options.renderer||new Ye,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Dt}static parse(e,t){return new re(t).parse(e)}static parseInline(e,t){return new re(t).parseInline(e)}parse(e,t=!0){let n="";for(let i=0;i<e.length;i++){const o=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const a=o,s=this.options.extensions.renderers[a.type].call({parser:this},a);if(s!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){n+=s||"";continue}}switch(o.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{const a=o;n+=this.renderer.heading(this.parseInline(a.tokens),a.depth,Ai(this.parseInline(a.tokens,this.textRenderer)));continue}case"code":{const a=o;n+=this.renderer.code(a.text,a.lang,!!a.escaped);continue}case"table":{const a=o;let s="",l="";for(let u=0;u<a.header.length;u++)l+=this.renderer.tablecell(this.parseInline(a.header[u].tokens),{header:!0,align:a.align[u]});s+=this.renderer.tablerow(l);let p="";for(let u=0;u<a.rows.length;u++){const h=a.rows[u];l="";for(let d=0;d<h.length;d++)l+=this.renderer.tablecell(this.parseInline(h[d].tokens),{header:!1,align:a.align[d]});p+=this.renderer.tablerow(l)}n+=this.renderer.table(s,p);continue}case"blockquote":{const a=o,s=this.parse(a.tokens);n+=this.renderer.blockquote(s);continue}case"list":{const a=o,s=a.ordered,l=a.start,p=a.loose;let u="";for(let h=0;h<a.items.length;h++){const d=a.items[h],m=d.checked,k=d.task;let g="";if(d.task){const T=this.renderer.checkbox(!!m);p?d.tokens.length>0&&d.tokens[0].type==="paragraph"?(d.tokens[0].text=T+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&d.tokens[0].tokens[0].type==="text"&&(d.tokens[0].tokens[0].text=T+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:T+" "}):g+=T+" "}g+=this.parse(d.tokens,p),u+=this.renderer.listitem(g,k,!!m)}n+=this.renderer.list(u,s,l);continue}case"html":{const a=o;n+=this.renderer.html(a.text,a.block);continue}case"paragraph":{const a=o;n+=this.renderer.paragraph(this.parseInline(a.tokens));continue}case"text":{let a=o,s=a.tokens?this.parseInline(a.tokens):a.text;for(;i+1<e.length&&e[i+1].type==="text";)a=e[++i],s+=`
`+(a.tokens?this.parseInline(a.tokens):a.text);n+=t?this.renderer.paragraph(s):s;continue}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let i=0;i<e.length;i++){const o=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=a||"";continue}}switch(o.type){case"escape":{const a=o;n+=t.text(a.text);break}case"html":{const a=o;n+=t.html(a.text);break}case"link":{const a=o;n+=t.link(a.href,a.title,this.parseInline(a.tokens,t));break}case"image":{const a=o;n+=t.image(a.href,a.title,a.text);break}case"strong":{const a=o;n+=t.strong(this.parseInline(a.tokens,t));break}case"em":{const a=o;n+=t.em(this.parseInline(a.tokens,t));break}case"codespan":{const a=o;n+=t.codespan(a.text);break}case"br":{n+=t.br();break}case"del":{const a=o;n+=t.del(this.parseInline(a.tokens,t));break}case"text":{const a=o;n+=t.text(a.text);break}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}}class qe{constructor(e){v(this,"options");this.options=e||ve}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}v(qe,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var Me,Tt,et,Mn;class po{constructor(...e){pt(this,Me);pt(this,et);v(this,"defaults",It());v(this,"options",this.setOptions);v(this,"parse",Qe(this,Me,Tt).call(this,ne.lex,re.parse));v(this,"parseInline",Qe(this,Me,Tt).call(this,ne.lexInline,re.parseInline));v(this,"Parser",re);v(this,"Renderer",Ye);v(this,"TextRenderer",Dt);v(this,"Lexer",ne);v(this,"Tokenizer",Xe);v(this,"Hooks",qe);this.use(...e)}walkTokens(e,t){var i,o;let n=[];for(const a of e)switch(n=n.concat(t.call(this,a)),a.type){case"table":{const s=a;for(const l of s.header)n=n.concat(this.walkTokens(l.tokens,t));for(const l of s.rows)for(const p of l)n=n.concat(this.walkTokens(p.tokens,t));break}case"list":{const s=a;n=n.concat(this.walkTokens(s.items,t));break}default:{const s=a;(o=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&o[s.type]?this.defaults.extensions.childTokens[s.type].forEach(l=>{n=n.concat(this.walkTokens(s[l],t))}):s.tokens&&(n=n.concat(this.walkTokens(s.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const a=t.renderers[o.name];a?t.renderers[o.name]=function(...s){let l=o.renderer.apply(this,s);return l===!1&&(l=a.apply(this,s)),l}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=t[o.level];a?a.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),i.extensions=t),n.renderer){const o=this.defaults.renderer||new Ye(this.defaults);for(const a in n.renderer){if(!(a in o))throw new Error(`renderer '${a}' does not exist`);if(a==="options")continue;const s=a,l=n.renderer[s],p=o[s];o[s]=(...u)=>{let h=l.apply(o,u);return h===!1&&(h=p.apply(o,u)),h||""}}i.renderer=o}if(n.tokenizer){const o=this.defaults.tokenizer||new Xe(this.defaults);for(const a in n.tokenizer){if(!(a in o))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const s=a,l=n.tokenizer[s],p=o[s];o[s]=(...u)=>{let h=l.apply(o,u);return h===!1&&(h=p.apply(o,u)),h}}i.tokenizer=o}if(n.hooks){const o=this.defaults.hooks||new qe;for(const a in n.hooks){if(!(a in o))throw new Error(`hook '${a}' does not exist`);if(a==="options")continue;const s=a,l=n.hooks[s],p=o[s];qe.passThroughHooks.has(a)?o[s]=u=>{if(this.defaults.async)return Promise.resolve(l.call(o,u)).then(d=>p.call(o,d));const h=l.call(o,u);return p.call(o,h)}:o[s]=(...u)=>{let h=l.apply(o,u);return h===!1&&(h=p.apply(o,u)),h}}i.hooks=o}if(n.walkTokens){const o=this.defaults.walkTokens,a=n.walkTokens;i.walkTokens=function(s){let l=[];return l.push(a.call(this,s)),o&&(l=l.concat(o.call(this,s))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return ne.lex(e,t??this.defaults)}parser(e,t){return re.parse(e,t??this.defaults)}}Me=new WeakSet,Tt=function(e,t){return(n,i)=>{const o={...i},a={...this.defaults,...o};this.defaults.async===!0&&o.async===!1&&(a.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),a.async=!0);const s=Qe(this,et,Mn).call(this,!!a.silent,!!a.async);if(typeof n>"u"||n===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(a.hooks&&(a.hooks.options=a),a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(n):n).then(l=>e(l,a)).then(l=>a.hooks?a.hooks.processAllTokens(l):l).then(l=>a.walkTokens?Promise.all(this.walkTokens(l,a.walkTokens)).then(()=>l):l).then(l=>t(l,a)).then(l=>a.hooks?a.hooks.postprocess(l):l).catch(s);try{a.hooks&&(n=a.hooks.preprocess(n));let l=e(n,a);a.hooks&&(l=a.hooks.processAllTokens(l)),a.walkTokens&&this.walkTokens(l,a.walkTokens);let p=t(l,a);return a.hooks&&(p=a.hooks.postprocess(p)),p}catch(l){return s(l)}}},et=new WeakSet,Mn=function(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+V(n.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(n);throw n}};const ke=new po;function x(r,e){return ke.parse(r,e)}x.options=x.setOptions=function(r){return ke.setOptions(r),x.defaults=ke.defaults,En(x.defaults),x};x.getDefaults=It;x.defaults=ve;x.use=function(...r){return ke.use(...r),x.defaults=ke.defaults,En(x.defaults),x};x.walkTokens=function(r,e){return ke.walkTokens(r,e)};x.parseInline=ke.parseInline;x.Parser=re;x.parser=re.parse;x.Renderer=Ye;x.TextRenderer=Dt;x.Lexer=ne;x.lexer=ne.lex;x.Tokenizer=Xe;x.Hooks=qe;x.parse=x;x.options;x.setOptions;x.use;x.walkTokens;x.parseInline;re.parse;ne.lex;const ho=`#### Overview

The \`StructuredQuery\` component is used to visually build structured queries against your project. In this component, it's possible to select rules that need to be followed. Each rule is composed of a field from your project and whether it is, is not, contains, or does not contain a specific value.

There are top-level rules for which it's possible to choose whether all or any of them must be satisfied. If the query needs to be more granular, it is also possible to add rule groups, which nest additional sets of rules within them. For these rule groups, you can also choose whether all or any of them must be satisfied.

The query that corresponds to the rules and rule groups that are selected is displayed at the bottom of the component. As rules and rule groups are built out in the component, the query will continue to update to match. It's possible to copy the query by clicking the icon next to it.
`,fo=()=>({messages:pn.object("Default messages for the component's text strings",kt)});class mo extends Jn{async listFields(e){return ar("listFields")(e),Yn({fields:[{field:"field_name_1"},{field:"field_name_2"},{field:"field_name_3"},{field:"field_name_4"},{field:"field_name_5"},{field:"field_name_6"}]})}}const go=()=>({searchClient:new mo,projectId:pn.text("Project ID","project-id")}),Ho={title:"StructuredQuery",parameters:{component:$n}},Ue={render:()=>S.jsx(Xn,{children:S.jsx(or,{...go(),children:S.jsx($n,{...fo()})})}),name:"default",parameters:{info:{text:x.parse(ho)}}};var ln,cn,un;Ue.parameters={...Ue.parameters,docs:{...(ln=Ue.parameters)==null?void 0:ln.docs,source:{originalSource:`{
  render: () => {
    return <StoryWrapper>
        <DiscoverySearch {...discoverySearchProps()}>
          <StructuredQuery {...props()} />
        </DiscoverySearch>
      </StoryWrapper>;
  },
  name: 'default',
  parameters: {
    info: {
      text: marked.parse(defaultReadme)
    }
  }
}`,...(un=(cn=Ue.parameters)==null?void 0:cn.docs)==null?void 0:un.source}}};const Fo=["Default"];export{Ue as Default,Fo as __namedExportsOrder,Ho as default};
