var Kr=Object.defineProperty;var Xr=(e,t,n)=>t in e?Kr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xt=(e,t,n)=>(Xr(e,typeof t!="symbol"?t+"":t,n),n);import{j as b}from"./jsx-runtime-FsUICBgo.js";import{_ as Jr,a as Yr,b as Zr,c as eo,e as to,d as ct}from"./index-777x7qAF.js";import{R as g,c as Ht,g as jt,r as P}from"./index-RfLt4OUa.js";import{c as le,s as ke,m as ka,S as no,F as Ra,k as Bn,d as sa,t as Cn,B as wt,u as ao,b as ro,D as oo,C as so}from"./Button-KibTbxDG.js";import{d as io,e as ia,S as Bt,i as lo,w as co,F as uo,o as po,b as fo,c as la,D as Ln,a as In}from"./chunk-WFFRPTHA-XxQL4zvM.js";import{J as Na,g as te,S as mo,x as ho}from"./callBound-4MCeDK1M.js";import{_ as go}from"./_baseUniq-2t0Y7xw1.js";import{l as yo}from"./last-zLtIjBiu.js";import{D as kt,m as Da,L as ca,a as bo,u as $a}from"./createPropAdapter-rri3PPhE.js";import{P as p}from"./index-4QtD-hFu.js";import{a as qa,L as Be}from"./index-o5OFstPD.js";import{m as ja}from"./mergeRefs-uj14wjf3.js";import{W as Ba,a as La}from"./bucket-29-VrKNGfP9.js";import{c as Tn}from"./cloneDeep-eaEuvD8i.js";import{b as Va}from"./index-zqflMFO-.js";import{C as _o,a as vo}from"./RadioButton-oUVXPi4-.js";import{f as ua}from"./formatMessage-wl7oTduw.js";import{T as So}from"./uniqueId-3N0rOl1M.js";import{e as xo,w as Co}from"./wrapFocus-29tK3Ecs.js";import{a as Io,b as wo,C as To}from"./bucket-5-3bTeVNTN.js";import{a as Oo}from"./Search-TSjiQ7A7.js";import{v as Fo}from"./v4-yQnnJER4.js";import{a as Vn,S as Gn,D as Mo,c as wn}from"./storybookUtils-P7YVKdto.js";import"./pickBy-llkn_6s3.js";import"./isPlainObject-g73re4jY.js";import"./index-xck8ovCi.js";import"./preview-errors-Ix78kkVy.js";import"./debounce-eWC8LGMf.js";import"./inheritsLoose-O2jMHMzR.js";import"./_baseClone-6sJ_SjB4.js";function On(){return On=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},On.apply(this,arguments)}function Po(e,t){function n(a){return g.createElement(So,On({as:e},a))}return n}var Eo=Po("legend"),Ao=["children","className","stacked"];function Fn(){return Fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fn.apply(this,arguments)}function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ro(e,t){if(e==null)return{};var n=No(e,t),a,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)a=i[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function No(e,t){if(e==null)return{};var n={},a=Object.keys(e),o,i;for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var da=ke.prefix,Un=g.forwardRef(function(t,n){var a=t.children,o=t.className,i=t.stacked,l=Ro(t,Ao),c=le(o,"".concat(da,"--btn-set"),ko({},"".concat(da,"--btn-set--stacked"),i));return g.createElement("div",Fn({},l,{className:c,ref:n}),a)});Un.displayName="ButtonSet";Un.propTypes={children:p.node,className:p.string,stacked:p.bool};const Do=Un;function $o(e,t){return function(a,o,i){for(var l=arguments.length,c=new Array(l>3?l-3:0),u=3;u<l;u++)c[u-3]=arguments[u];return t.apply(void 0,[a,o,i].concat(c))}}var rn={exports:{}};rn.exports;(function(e,t){var n=200,a="__lodash_hash_undefined__",o=1,i=2,l=9007199254740991,c="[object Arguments]",u="[object Array]",f="[object AsyncFunction]",m="[object Boolean]",_="[object Date]",v="[object Error]",h="[object Function]",I="[object GeneratorFunction]",x="[object Map]",w="[object Number]",C="[object Null]",T="[object Object]",M="[object Promise]",D="[object Proxy]",k="[object RegExp]",N="[object Set]",W="[object String]",R="[object Symbol]",K="[object Undefined]",re="[object WeakMap]",ne="[object ArrayBuffer]",ce="[object DataView]",ue="[object Float32Array]",V="[object Float64Array]",z="[object Int8Array]",de="[object Int16Array]",he="[object Int32Array]",Y="[object Uint8Array]",be="[object Uint8ClampedArray]",A="[object Uint16Array]",Me="[object Uint32Array]",Pe=/[\\^$.*+?()[\]{}|]/g,_e=/^\[object .+?Constructor\]$/,Ee=/^(?:0|[1-9]\d*)$/,F={};F[ue]=F[V]=F[z]=F[de]=F[he]=F[Y]=F[be]=F[A]=F[Me]=!0,F[c]=F[u]=F[ne]=F[m]=F[ce]=F[_]=F[v]=F[h]=F[x]=F[w]=F[T]=F[k]=F[N]=F[W]=F[re]=!1;var Ae=typeof Ht=="object"&&Ht&&Ht.Object===Object&&Ht,tt=typeof self=="object"&&self&&self.Object===Object&&self,E=Ae||tt||Function("return this")(),H=t&&!t.nodeType&&t,oe=H&&!0&&e&&!e.nodeType&&e,nt=oe&&oe.exports===H,Le=nt&&Ae.process,pt=function(){try{return Le&&Le.binding&&Le.binding("util")}catch{}}(),ft=pt&&pt.isTypedArray;function Ot(r,s){for(var d=-1,y=r==null?0:r.length,L=0,O=[];++d<y;){var Q=r[d];s(Q,d,r)&&(O[L++]=Q)}return O}function mt(r,s){for(var d=-1,y=s.length,L=r.length;++d<y;)r[L+d]=s[d];return r}function ht(r,s){for(var d=-1,y=r==null?0:r.length;++d<y;)if(s(r[d],d,r))return!0;return!1}function Ft(r,s){for(var d=-1,y=Array(r);++d<r;)y[d]=s(d);return y}function gt(r){return function(s){return r(s)}}function Re(r,s){return r.has(s)}function yt(r,s){return r==null?void 0:r[s]}function bt(r){var s=-1,d=Array(r.size);return r.forEach(function(y,L){d[++s]=[L,y]}),d}function Ne(r,s){return function(d){return r(s(d))}}function pe(r){var s=-1,d=Array(r.size);return r.forEach(function(y){d[++s]=y}),d}var fe=Array.prototype,Mt=Function.prototype,Ve=Object.prototype,ge=E["__core-js_shared__"],Ge=Mt.toString,X=Ve.hasOwnProperty,at=function(){var r=/[^.]+$/.exec(ge&&ge.keys&&ge.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),we=Ve.toString,_t=RegExp("^"+Ge.call(X).replace(Pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),De=nt?E.Buffer:void 0,Ue=E.Symbol,rt=E.Uint8Array,vt=Ve.propertyIsEnumerable,Pt=fe.splice,Te=Ue?Ue.toStringTag:void 0,We=Object.getOwnPropertySymbols,se=De?De.isBuffer:void 0,ve=Ne(Object.keys,Object),Oe=St(E,"DataView"),B=St(E,"Map"),Z=St(E,"Promise"),Se=St(E,"Set"),ze=St(E,"WeakMap"),$e=St(Object,"create"),vn=it(Oe),nr=it(B),ar=it(Z),rr=it(Se),or=it(ze),Kn=Ue?Ue.prototype:void 0,Sn=Kn?Kn.valueOf:void 0;function ot(r){var s=-1,d=r==null?0:r.length;for(this.clear();++s<d;){var y=r[s];this.set(y[0],y[1])}}function sr(){this.__data__=$e?$e(null):{},this.size=0}function ir(r){var s=this.has(r)&&delete this.__data__[r];return this.size-=s?1:0,s}function lr(r){var s=this.__data__;if($e){var d=s[r];return d===a?void 0:d}return X.call(s,r)?s[r]:void 0}function cr(r){var s=this.__data__;return $e?s[r]!==void 0:X.call(s,r)}function ur(r,s){var d=this.__data__;return this.size+=this.has(r)?0:1,d[r]=$e&&s===void 0?a:s,this}ot.prototype.clear=sr,ot.prototype.delete=ir,ot.prototype.get=lr,ot.prototype.has=cr,ot.prototype.set=ur;function qe(r){var s=-1,d=r==null?0:r.length;for(this.clear();++s<d;){var y=r[s];this.set(y[0],y[1])}}function dr(){this.__data__=[],this.size=0}function pr(r){var s=this.__data__,d=Gt(s,r);if(d<0)return!1;var y=s.length-1;return d==y?s.pop():Pt.call(s,d,1),--this.size,!0}function fr(r){var s=this.__data__,d=Gt(s,r);return d<0?void 0:s[d][1]}function mr(r){return Gt(this.__data__,r)>-1}function hr(r,s){var d=this.__data__,y=Gt(d,r);return y<0?(++this.size,d.push([r,s])):d[y][1]=s,this}qe.prototype.clear=dr,qe.prototype.delete=pr,qe.prototype.get=fr,qe.prototype.has=mr,qe.prototype.set=hr;function st(r){var s=-1,d=r==null?0:r.length;for(this.clear();++s<d;){var y=r[s];this.set(y[0],y[1])}}function gr(){this.size=0,this.__data__={hash:new ot,map:new(B||qe),string:new ot}}function yr(r){var s=Ut(this,r).delete(r);return this.size-=s?1:0,s}function br(r){return Ut(this,r).get(r)}function _r(r){return Ut(this,r).has(r)}function vr(r,s){var d=Ut(this,r),y=d.size;return d.set(r,s),this.size+=d.size==y?0:1,this}st.prototype.clear=gr,st.prototype.delete=yr,st.prototype.get=br,st.prototype.has=_r,st.prototype.set=vr;function Vt(r){var s=-1,d=r==null?0:r.length;for(this.__data__=new st;++s<d;)this.add(r[s])}function Sr(r){return this.__data__.set(r,a),this}function xr(r){return this.__data__.has(r)}Vt.prototype.add=Vt.prototype.push=Sr,Vt.prototype.has=xr;function Qe(r){var s=this.__data__=new qe(r);this.size=s.size}function Cr(){this.__data__=new qe,this.size=0}function Ir(r){var s=this.__data__,d=s.delete(r);return this.size=s.size,d}function wr(r){return this.__data__.get(r)}function Tr(r){return this.__data__.has(r)}function Or(r,s){var d=this.__data__;if(d instanceof qe){var y=d.__data__;if(!B||y.length<n-1)return y.push([r,s]),this.size=++d.size,this;d=this.__data__=new st(y)}return d.set(r,s),this.size=d.size,this}Qe.prototype.clear=Cr,Qe.prototype.delete=Ir,Qe.prototype.get=wr,Qe.prototype.has=Tr,Qe.prototype.set=Or;function Fr(r,s){var d=Wt(r),y=!d&&Gr(r),L=!d&&!y&&xn(r),O=!d&&!y&&!L&&ra(r),Q=d||y||L||O,ee=Q?Ft(r.length,String):[],ae=ee.length;for(var G in r)(s||X.call(r,G))&&!(Q&&(G=="length"||L&&(G=="offset"||G=="parent")||O&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||qr(G,ae)))&&ee.push(G);return ee}function Gt(r,s){for(var d=r.length;d--;)if(ea(r[d][0],s))return d;return-1}function Mr(r,s,d){var y=s(r);return Wt(r)?y:mt(y,d(r))}function Et(r){return r==null?r===void 0?K:C:Te&&Te in Object(r)?Dr(r):Vr(r)}function Xn(r){return At(r)&&Et(r)==c}function Jn(r,s,d,y,L){return r===s?!0:r==null||s==null||!At(r)&&!At(s)?r!==r&&s!==s:Pr(r,s,d,y,Jn,L)}function Pr(r,s,d,y,L,O){var Q=Wt(r),ee=Wt(s),ae=Q?u:He(r),G=ee?u:He(s);ae=ae==c?T:ae,G=G==c?T:G;var ye=ae==T,Fe=G==T,ie=ae==G;if(ie&&xn(r)){if(!xn(s))return!1;Q=!0,ye=!1}if(ie&&!ye)return O||(O=new Qe),Q||ra(r)?Yn(r,s,d,y,L,O):Rr(r,s,ae,d,y,L,O);if(!(d&o)){var xe=ye&&X.call(r,"__wrapped__"),Ce=Fe&&X.call(s,"__wrapped__");if(xe||Ce){var Ke=xe?r.value():r,je=Ce?s.value():s;return O||(O=new Qe),L(Ke,je,d,y,O)}}return ie?(O||(O=new Qe),Nr(r,s,d,y,L,O)):!1}function Er(r){if(!aa(r)||Br(r))return!1;var s=ta(r)?_t:_e;return s.test(it(r))}function Ar(r){return At(r)&&na(r.length)&&!!F[Et(r)]}function kr(r){if(!Lr(r))return ve(r);var s=[];for(var d in Object(r))X.call(r,d)&&d!="constructor"&&s.push(d);return s}function Yn(r,s,d,y,L,O){var Q=d&o,ee=r.length,ae=s.length;if(ee!=ae&&!(Q&&ae>ee))return!1;var G=O.get(r);if(G&&O.get(s))return G==s;var ye=-1,Fe=!0,ie=d&i?new Vt:void 0;for(O.set(r,s),O.set(s,r);++ye<ee;){var xe=r[ye],Ce=s[ye];if(y)var Ke=Q?y(Ce,xe,ye,s,r,O):y(xe,Ce,ye,r,s,O);if(Ke!==void 0){if(Ke)continue;Fe=!1;break}if(ie){if(!ht(s,function(je,lt){if(!Re(ie,lt)&&(xe===je||L(xe,je,d,y,O)))return ie.push(lt)})){Fe=!1;break}}else if(!(xe===Ce||L(xe,Ce,d,y,O))){Fe=!1;break}}return O.delete(r),O.delete(s),Fe}function Rr(r,s,d,y,L,O,Q){switch(d){case ce:if(r.byteLength!=s.byteLength||r.byteOffset!=s.byteOffset)return!1;r=r.buffer,s=s.buffer;case ne:return!(r.byteLength!=s.byteLength||!O(new rt(r),new rt(s)));case m:case _:case w:return ea(+r,+s);case v:return r.name==s.name&&r.message==s.message;case k:case W:return r==s+"";case x:var ee=bt;case N:var ae=y&o;if(ee||(ee=pe),r.size!=s.size&&!ae)return!1;var G=Q.get(r);if(G)return G==s;y|=i,Q.set(r,s);var ye=Yn(ee(r),ee(s),y,L,O,Q);return Q.delete(r),ye;case R:if(Sn)return Sn.call(r)==Sn.call(s)}return!1}function Nr(r,s,d,y,L,O){var Q=d&o,ee=Zn(r),ae=ee.length,G=Zn(s),ye=G.length;if(ae!=ye&&!Q)return!1;for(var Fe=ae;Fe--;){var ie=ee[Fe];if(!(Q?ie in s:X.call(s,ie)))return!1}var xe=O.get(r);if(xe&&O.get(s))return xe==s;var Ce=!0;O.set(r,s),O.set(s,r);for(var Ke=Q;++Fe<ae;){ie=ee[Fe];var je=r[ie],lt=s[ie];if(y)var oa=Q?y(lt,je,ie,s,r,O):y(je,lt,ie,r,s,O);if(!(oa===void 0?je===lt||L(je,lt,d,y,O):oa)){Ce=!1;break}Ke||(Ke=ie=="constructor")}if(Ce&&!Ke){var zt=r.constructor,Qt=s.constructor;zt!=Qt&&"constructor"in r&&"constructor"in s&&!(typeof zt=="function"&&zt instanceof zt&&typeof Qt=="function"&&Qt instanceof Qt)&&(Ce=!1)}return O.delete(r),O.delete(s),Ce}function Zn(r){return Mr(r,zr,$r)}function Ut(r,s){var d=r.__data__;return jr(s)?d[typeof s=="string"?"string":"hash"]:d.map}function St(r,s){var d=yt(r,s);return Er(d)?d:void 0}function Dr(r){var s=X.call(r,Te),d=r[Te];try{r[Te]=void 0;var y=!0}catch{}var L=we.call(r);return y&&(s?r[Te]=d:delete r[Te]),L}var $r=We?function(r){return r==null?[]:(r=Object(r),Ot(We(r),function(s){return vt.call(r,s)}))}:Qr,He=Et;(Oe&&He(new Oe(new ArrayBuffer(1)))!=ce||B&&He(new B)!=x||Z&&He(Z.resolve())!=M||Se&&He(new Se)!=N||ze&&He(new ze)!=re)&&(He=function(r){var s=Et(r),d=s==T?r.constructor:void 0,y=d?it(d):"";if(y)switch(y){case vn:return ce;case nr:return x;case ar:return M;case rr:return N;case or:return re}return s});function qr(r,s){return s=s??l,!!s&&(typeof r=="number"||Ee.test(r))&&r>-1&&r%1==0&&r<s}function jr(r){var s=typeof r;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?r!=="__proto__":r===null}function Br(r){return!!at&&at in r}function Lr(r){var s=r&&r.constructor,d=typeof s=="function"&&s.prototype||Ve;return r===d}function Vr(r){return we.call(r)}function it(r){if(r!=null){try{return Ge.call(r)}catch{}try{return r+""}catch{}}return""}function ea(r,s){return r===s||r!==r&&s!==s}var Gr=Xn(function(){return arguments}())?Xn:function(r){return At(r)&&X.call(r,"callee")&&!vt.call(r,"callee")},Wt=Array.isArray;function Ur(r){return r!=null&&na(r.length)&&!ta(r)}var xn=se||Hr;function Wr(r,s){return Jn(r,s)}function ta(r){if(!aa(r))return!1;var s=Et(r);return s==h||s==I||s==f||s==D}function na(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=l}function aa(r){var s=typeof r;return r!=null&&(s=="object"||s=="function")}function At(r){return r!=null&&typeof r=="object"}var ra=ft?gt(ft):Ar;function zr(r){return Ur(r)?Fr(r):kr(r)}function Qr(){return[]}function Hr(){return!1}e.exports=Wr})(rn,rn.exports);var qo=rn.exports;const hn=jt(qo);var jo=function(e,t,n,a,o,i,l,c){if(!e){var u;if(t===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,a,o,i,l,c],m=0;u=new Error(t.replace(/%s/g,function(){return f[m++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}},Bo=jo;const Lo=jt(Bo);var Vo=function(t,n){var a=n.itemToString,o=n.inputValue;return t.filter(function(i){return o?a(i).toLowerCase().includes(o.toLowerCase()):!0})},Ga={compareItems:p.func.isRequired,sortItems:p.func.isRequired};function Zt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zt=function(n){return typeof n}:Zt=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zt(e)}function Go(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Uo(e,t,n){return t&&pa(e.prototype,t),n&&pa(e,n),e}function Wo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mn(e,t)}function Mn(e,t){return Mn=Object.setPrototypeOf||function(a,o){return a.__proto__=o,a},Mn(e,t)}function zo(e){var t=Ho();return function(){var a=on(e),o;if(t){var i=on(this).constructor;o=Reflect.construct(a,arguments,i)}else o=a.apply(this,arguments);return Qo(this,o)}}function Qo(e,t){return t&&(Zt(t)==="object"||typeof t=="function")?t:It(e)}function It(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ho(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function on(e){return on=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},on(e)}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ko(e,t){return Zo(e)||Yo(e,t)||Jo(e,t)||Xo()}function Xo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jo(e,t){if(e){if(typeof e=="string")return fa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fa(e,t)}}function fa(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Yo(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],o=!0,i=!1,l,c;try{for(n=n.call(e);!(o=(l=n.next()).done)&&(a.push(l.value),!(t&&a.length===t));o=!0);}catch(u){i=!0,c=u}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw c}}return a}}function Zo(e){if(Array.isArray(e))return e}function es(e){var t=e.disabled,n=e.onChange,a=e.initialSelectedItems,o=a===void 0?[]:a,i=P.useRef(!1),l=P.useRef(n),c=P.useState(o),u=Ko(c,2),f=u[0],m=u[1],_=P.useCallback(function(h){if(!t){var I;if(f.forEach(function(x,w){hn(x,h)&&(I=w)}),I===void 0){m(function(x){return x.concat(h)});return}m(function(x){return Ua(x,I)})}},[t,f]),v=P.useCallback(function(){t||m([])},[t]);return P.useEffect(function(){l.current=n},[n]),P.useEffect(function(){i.current===!0&&l.current&&l.current({selectedItems:f})},[f]),P.useEffect(function(){return i.current=!0,function(){i.current=!1}},[]),{selectedItems:f,onItemChange:_,clearSelection:v}}var Wn=function(e){Wo(n,e);var t=zo(n);function n(a){var o;return Go(this,n),o=t.call(this,a),ut(It(o),"internalSetState",function(i,l){return o.setState(i,function(){l&&l(),o.props.onChange&&o.props.onChange(o.state)})}),ut(It(o),"handleClearSelection",function(){o.props.disabled||o.internalSetState({selectedItems:[]})}),ut(It(o),"handleSelectItem",function(i){o.internalSetState(function(l){return{selectedItems:l.selectedItems.concat(i)}})}),ut(It(o),"handleRemoveItem",function(i){o.internalSetState(function(l){return{selectedItems:Ua(l.selectedItems,i)}})}),ut(It(o),"handleOnItemChange",function(i){if(!o.props.disabled){var l=o.state.selectedItems,c;if(l.forEach(function(u,f){hn(u,i)&&(c=f)}),c===void 0){o.handleSelectItem(i);return}o.handleRemoveItem(c)}}),o.state={selectedItems:a.initialSelectedItems},o}return Uo(n,[{key:"render",value:function(){var o=this.props,i=o.children,l=o.render,c=this.state.selectedItems,u={selectedItems:c,onItemChange:this.handleOnItemChange,clearSelection:this.handleClearSelection};return l!==void 0?l(u):i!==void 0?i(u):null}}]),n}(g.Component);ut(Wn,"propTypes",{children:p.func,disabled:p.bool,initialSelectedItems:p.array.isRequired,onChange:p.func,render:p.func});ut(Wn,"defaultProps",{initialSelectedItems:[]});var Ua=function(t,n){var a=t.slice();return a.splice(n,1),a},ma=function(t){return typeof t.label!="string"&&Lo(!1),t.label||""},Wa=function(t){return Array.isArray(t)?t.map(ma):ma(t)},za=function(t,n,a){var o=a.locale;return t.localeCompare(n,o,{numeric:!0})},Qa=function(t,n){var a=n.selectedItems,o=a===void 0?[]:a,i=n.itemToString,l=n.compareItems,c=n.locale,u=c===void 0?"en":c;return t.sort(function(f,m){var _=o.includes(f),v=o.includes(m);return _&&!v?-1:v&&!_?1:l(i(f),i(m),{locale:u})})};function en(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?en=function(n){return typeof n}:en=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},en(e)}function ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,a)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ha(Object(n),!0).forEach(function(a){j(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ha(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Je(){return Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Je.apply(this,arguments)}function ts(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ya(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ns(e,t,n){return t&&ya(e.prototype,t),n&&ya(e,n),e}function as(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pn(e,t)}function Pn(e,t){return Pn=Object.setPrototypeOf||function(a,o){return a.__proto__=o,a},Pn(e,t)}function rs(e){var t=ss();return function(){var a=sn(e),o;if(t){var i=sn(this).constructor;o=Reflect.construct(a,arguments,i)}else o=a.apply(this,arguments);return os(this,o)}}function os(e,t){return t&&(en(t)==="object"||typeof t=="function")?t:Xe(e)}function Xe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ss(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sn(e){return sn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},sn(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=ke.prefix,is=Bn(),Lt=function(e){as(n,e);var t=rs(n);function n(a){var o;return ts(this,n),o=t.call(this,a),j(Xe(o),"handleOnChange",function(i){o.props.onChange&&o.props.onChange(i)}),j(Xe(o),"handleOnMenuChange",function(i){o.setState(function(l){return{isOpen:i??!l.isOpen}}),o.props.onMenuChange&&o.props.onMenuChange(i)}),j(Xe(o),"handleOnOuterClick",function(){o.handleOnMenuChange(!1)}),j(Xe(o),"handleOnStateChange",function(i,l){i.isOpen&&!o.state.isOpen&&o.setState({topItems:l.selectedItem});var c=i.type,u=kt.stateChangeTypes;switch(c){case u.keyDownArrowDown:case u.keyDownArrowUp:case u.keyDownHome:case u.keyDownEnd:o.setState({highlightedIndex:i.highlightedIndex!==void 0?i.highlightedIndex:null}),u.keyDownArrowDown===c&&!o.state.isOpen&&o.handleOnMenuChange(!0);break;case u.keyDownEscape:o.handleOnMenuChange(!1);break}}),j(Xe(o),"handleOnInputKeyDown",function(i){i.stopPropagation()}),j(Xe(o),"handleOnInputValueChange",function(i,l){var c=l.type;c===kt.stateChangeTypes.changeInput&&(o.setState(function(){return Array.isArray(i)?{inputValue:""}:{inputValue:i||""}}),i&&!o.state.isOpen?o.handleOnMenuChange(!0):!i&&o.state.isOpen&&o.handleOnMenuChange(!1))}),j(Xe(o),"clearInputValue",function(){o.setState({inputValue:""},function(){o.textInput.current&&o.textInput.current.focus()})}),o.filterableMultiSelectInstanceId=is(),o.state={isOpen:a.open,inputValue:"",topItems:[],inputFocused:!1,highlightedIndex:null},o.textInput=g.createRef(),o}return ns(n,[{key:"render",value:function(){var o,i,l,c,u=this,f=this.state,m=f.highlightedIndex,_=f.isOpen,v=f.inputValue,h=this.props,I=h.ariaLabel,x=h.className,w=h.direction,C=h.disabled,T=h.filterItems,M=h.items,D=h.itemToElement,k=h.itemToString,N=h.titleText,W=h.hideLabel,R=h.helperText,K=h.type,re=h.initialSelectedItems,ne=h.id,ce=h.locale,ue=h.size,V=h.placeholder,z=h.sortItems,de=h.compareItems,he=h.light,Y=h.invalid,be=h.invalidText,A=h.warn,Me=h.warnText,Pe=h.useTitleInItem,_e=h.translateWithId,Ee=h.downshiftProps,F=K==="inline",Ae=!Y&&A,tt=D,E=this.context,H;E.enabled&&(H=E.enabled("enable-v11-release"));var oe=le("".concat($,"--multi-select__wrapper"),"".concat($,"--list-box__wrapper"),[H?x:null],(o={},j(o,"".concat($,"--multi-select__wrapper--inline"),F),j(o,"".concat($,"--list-box__wrapper--inline"),F),j(o,"".concat($,"--multi-select__wrapper--inline--invalid"),F&&Y),j(o,"".concat($,"--list-box__wrapper--inline--invalid"),F&&Y),j(o,"".concat($,"--list-box--up"),w==="top"),o)),nt=R?"filterablemultiselect-helper-text-".concat(this.filterableMultiSelectInstanceId):void 0,Le="".concat(ne,"-label"),pt=le((i={},j(i,"".concat($,"--label"),!0),j(i,"".concat($,"--label--disabled"),C),j(i,"".concat($,"--visually-hidden"),W),i)),ft=le((l={},j(l,"".concat($,"--form__helper-text"),!0),j(l,"".concat($,"--form__helper-text--disabled"),C),l)),Ot=le((c={},j(c,"".concat($,"--text-input"),!0),j(c,"".concat($,"--text-input--empty"),!this.state.inputValue),j(c,"".concat($,"--text-input--light"),he),c)),mt=R?g.createElement("div",{id:nt,className:ft},R):null,ht="".concat(ne,"__menu"),Ft="".concat(ne,"-input");return g.createElement(Wn,{disabled:C,onChange:this.handleOnChange,initialSelectedItems:re,render:function(Re){var yt=Re.selectedItems,bt=Re.onItemChange,Ne=Re.clearSelection;return g.createElement(kt,Je({},Da(Ee),{highlightedIndex:m,id:ne,isOpen:_,inputValue:v,onInputValueChange:u.handleOnInputValueChange,onChange:function(fe){fe!==null&&bt(fe)},itemToString:k,onStateChange:u.handleOnStateChange,onOuterClick:u.handleOnOuterClick,selectedItem:yt,labelId:Le,menuId:ht,inputId:Ft}),function(pe){var fe,Mt=pe.getInputProps,Ve=pe.getItemProps,ge=pe.getLabelProps,Ge=pe.getMenuProps,X=pe.getRootProps,at=pe.getToggleButtonProps,we=pe.isOpen,_t=pe.inputValue,De=pe.selectedItem,Ue=le("".concat($,"--multi-select"),"".concat($,"--combo-box"),"".concat($,"--multi-select--filterable"),[H?null:x],(fe={},j(fe,"".concat($,"--multi-select--invalid"),Y),j(fe,"".concat($,"--multi-select--open"),we),j(fe,"".concat($,"--multi-select--inline"),F),j(fe,"".concat($,"--multi-select--selected"),De.length>0),j(fe,"".concat($,"--multi-select--filterable--input-focused"),u.state.inputFocused),fe)),rt=X({},{suppressRefError:!0}),vt=ge(),Pt=at({disabled:C,onClick:function(){u.handleOnMenuChange(!u.state.isOpen),u.textInput.current&&u.textInput.current.focus()},onMouseUp:function(ve){ve.stopPropagation()}}),Te=Mt({"aria-controls":we?ht:null,"aria-describedby":R?nt:null,"aria-labelledby":null,disabled:C,placeholder:V,onClick:function(){u.handleOnMenuChange(!0)},onKeyDown:function(ve){ka(ve,no)&&ve.stopPropagation()},onFocus:function(){u.setState({inputFocused:!0})},onBlur:function(){u.setState({inputFocused:!1})}}),We=Ge({"aria-label":I},{suppressRefError:!0});return g.createElement("div",{className:oe},N?g.createElement("label",Je({className:pt},vt),N):null,g.createElement(Be,{className:Ue,disabled:C,light:he,invalid:Y,invalidText:be,warn:A,warnText:Me,isOpen:we,size:ue},g.createElement("div",{className:"".concat($,"--list-box__field")},De.length>0&&g.createElement(ca,{clearSelection:function(){Ne(),u.textInput.current&&u.textInput.current.focus()},selectionCount:De.length,translateWithId:_e,disabled:C}),g.createElement("input",Je({className:Ot},rt,Te,{ref:ja(u.textInput,rt.ref)})),Y&&g.createElement(Ba,{className:"".concat($,"--list-box__invalid-icon")}),Ae&&g.createElement(La,{className:"".concat($,"--list-box__invalid-icon ").concat($,"--list-box__invalid-icon--warning")}),_t&&g.createElement(ca,{clearSelection:u.clearInputValue,disabled:C,translateWithId:_e,onMouseUp:function(ve){ve.stopPropagation()}}),g.createElement(bo,Je({},Pt,{isOpen:we,translateWithId:_e}))),we?g.createElement(Be.Menu,We,z(T(M,{itemToString:k,inputValue:_t}),{selectedItems:{top:yt,fixed:[],"top-after-reopen":u.state.topItems}[u.props.selectionFeedback],itemToString:k,compareItems:de,locale:ce}).map(function(se,ve){var Oe=Ve({item:se}),B=k(se),Z=De.filter(function(Se){return hn(Se,se)}).length>0;return g.createElement(Be.MenuItem,Je({key:Oe.id,"aria-label":B,isActive:Z,isHighlighted:m===ve,title:B},Oe),g.createElement("div",{className:"".concat($,"--checkbox-wrapper")},g.createElement("span",{title:Pe?B:null,className:"".concat($,"--checkbox-label"),"data-contained-checkbox-state":Z,id:"".concat(Oe.id,"-item")},D?g.createElement(tt,Je({key:Oe.id},se)):B)))})):null),!F&&!Y&&!A?mt:null)})}})}}],[{key:"getDerivedStateFromProps",value:function(o,i){var l=o.open,c=i.prevOpen;return c===l?null:{isOpen:l,prevOpen:l}}}]),n}(g.Component);j(Lt,"propTypes",ga(ga({ariaLabel:p.string,direction:p.oneOf(["top","bottom"]),disabled:p.bool,downshiftProps:p.shape(kt.propTypes),hideLabel:p.bool,id:p.string.isRequired,initialSelectedItems:p.array,invalid:p.bool,invalidText:p.node,itemToElement:p.func,itemToString:p.func,items:p.array.isRequired,light:p.bool,locale:p.string,onChange:p.func,onMenuChange:p.func,open:p.bool,placeholder:p.string.isRequired,selectionFeedback:p.oneOf(["top","fixed","top-after-reopen"]),size:qa},Ga),{},{translateWithId:p.func,useTitleInItem:p.bool,warn:p.bool,warnText:p.node}));j(Lt,"contextType",Ra);j(Lt,"defaultProps",{ariaLabel:"Choose an item",compareItems:za,direction:"bottom",disabled:!1,filterItems:Vo,initialSelectedItems:[],itemToString:Wa,locale:"en",sortItems:Qa,light:!1,open:!1,selectionFeedback:"top-after-reopen"});function tn(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tn=function(n){return typeof n}:tn=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},tn(e)}var q,ls=["modalHeading","modalLabel","modalAriaLabel","passiveModal","hasForm","secondaryButtonText","primaryButtonText","open","onRequestClose","onRequestSubmit","onSecondarySubmit","iconDescription","primaryButtonDisabled","danger","alert","secondaryButtons","selectorPrimaryFocus","selectorsFloatingMenus","shouldSubmitOnEnter","size","hasScrollingContent","preventCloseOnClickOutside"];function Rt(){return Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Rt.apply(this,arguments)}function cs(e,t){if(e==null)return{};var n=us(e,t),a,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)a=i[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function us(e,t){if(e==null)return{};var n={},a=Object.keys(e),o,i;for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function ds(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ba(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ps(e,t,n){return t&&ba(e.prototype,t),n&&ba(e,n),e}function fs(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)}function En(e,t){return En=Object.setPrototypeOf||function(a,o){return a.__proto__=o,a},En(e,t)}function ms(e){var t=gs();return function(){var a=ln(e),o;if(t){var i=ln(this).constructor;o=Reflect.construct(a,arguments,i)}else o=a.apply(this,arguments);return hs(this,o)}}function hs(e,t){return t&&(tn(t)==="object"||typeof t=="function")?t:J(e)}function J(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gs(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ln(e){return ln=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ln(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=ke.prefix,ys=Bn(),zn=function(e){fs(n,e);var t=ms(n);function n(){var a;ds(this,n);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=t.call.apply(t,[this].concat(i)),S(J(a),"button",g.createRef()),S(J(a),"secondaryButton",g.createRef()),S(J(a),"outerModal",g.createRef()),S(J(a),"innerModal",g.createRef()),S(J(a),"startTrap",g.createRef()),S(J(a),"endTrap",g.createRef()),S(J(a),"modalInstanceId","modal-".concat(ys())),S(J(a),"modalLabelId","".concat(U,"--modal-header__label--").concat(a.modalInstanceId)),S(J(a),"modalHeadingId","".concat(U,"--modal-header__heading--").concat(a.modalInstanceId)),S(J(a),"modalBodyId","".concat(U,"--modal-body--").concat(a.modalInstanceId)),S(J(a),"modalCloseButtonClass","".concat(U,"--modal-close")),S(J(a),"isCloseButton",function(c){return!a.props.onSecondarySubmit&&c===a.secondaryButton.current||c.classList.contains(a.modalCloseButtonClass)}),S(J(a),"handleKeyDown",function(c){a.props.open&&(c.which===27&&a.props.onRequestClose(c),c.which===13&&a.props.shouldSubmitOnEnter&&!a.isCloseButton(c.target)&&a.props.onRequestSubmit(c))}),S(J(a),"handleMousedown",function(c){a.innerModal.current&&!a.innerModal.current.contains(c.target)&&!xo(c.target,a.props.selectorsFloatingMenus)&&!a.props.preventCloseOnClickOutside&&a.props.onRequestClose(c)}),S(J(a),"handleBlur",function(c){var u=c.target,f=c.relatedTarget,m=a.props,_=m.open,v=m.selectorsFloatingMenus;if(_&&f&&u){var h=a.innerModal.current,I=a.startTrap.current,x=a.endTrap.current;Co({bodyNode:h,startTrapNode:I,endTrapNode:x,currentActiveNode:f,oldActiveNode:u,selectorsFloatingMenus:v})}}),S(J(a),"initialFocus",function(c){var u=c||a.innerModal.current,f=u?u.querySelector(a.props.selectorPrimaryFocus):null;return f||a.button&&a.button.current}),S(J(a),"focusButton",function(c){var u=a.initialFocus(c);u&&u.focus()}),S(J(a),"handleTransitionEnd",function(c){c.target===c.currentTarget&&a.outerModal.current&&a.outerModal.current.offsetWidth&&a.outerModal.current.offsetHeight&&a.beingOpen&&(a.focusButton(c.currentTarget),a.beingOpen=!1)}),a}return ps(n,[{key:"componentDidUpdate",value:function(o){!o.open&&this.props.open?this.beingOpen=!0:o.open&&!this.props.open&&(this.beingOpen=!1),Cn(document.body,"".concat(U,"--body--with-modal-open"),this.props.open)}},{key:"componentWillUnmount",value:function(){Cn(document.body,"".concat(U,"--body--with-modal-open"),!1)}},{key:"componentDidMount",value:function(){Cn(document.body,"".concat(U,"--body--with-modal-open"),this.props.open),this.props.open&&this.focusButton(this.innerModal.current)}},{key:"render",value:function(){var o,i,l=this.props,c=l.modalHeading,u=l.modalLabel,f=l.modalAriaLabel,m=l.passiveModal,_=l.hasForm,v=l.secondaryButtonText,h=l.primaryButtonText,I=l.open,x=l.onRequestClose,w=l.onRequestSubmit,C=l.onSecondarySubmit,T=l.iconDescription,M=l.primaryButtonDisabled,D=l.danger,k=l.alert,N=l.secondaryButtons;l.selectorPrimaryFocus,l.selectorsFloatingMenus,l.shouldSubmitOnEnter;var W=l.size,R=l.hasScrollingContent;l.preventCloseOnClickOutside;var K=cs(l,ls),re=C||x,ne=le((o={},S(o,"".concat(U,"--modal"),!0),S(o,"".concat(U,"--modal-tall"),!m),S(o,"is-visible",I),S(o,"".concat(U,"--modal--danger"),this.props.danger),S(o,this.props.className,this.props.className),o)),ce=le("".concat(U,"--modal-container"),S({},"".concat(U,"--modal-container--").concat(W),W)),ue=le("".concat(U,"--modal-content"),(i={},S(i,"".concat(U,"--modal-content--with-form"),_),S(i,"".concat(U,"--modal-scroll-content"),R),i)),V=le("".concat(U,"--modal-footer"),S({},"".concat(U,"--modal-footer--three-button"),Array.isArray(N)&&N.length===2)),z=g.createElement("button",{className:this.modalCloseButtonClass,type:"button",onClick:x,title:T,"aria-label":T,ref:this.button},g.createElement(Io,{"aria-label":T,className:"".concat(this.modalCloseButtonClass,"__icon")})),de=u||this.props["aria-label"]||f||c,he=u?this.modalLabelId:this.modalHeadingId,Y=R?{tabIndex:0,role:"region","aria-label":de,"aria-labelledby":he}:{},be={};k&&m&&(be.role="alert"),k&&!m&&(be.role="alertdialog",be["aria-describedby"]=this.modalBodyId);var A=g.createElement("div",Rt({ref:this.innerModal,role:"dialog"},be,{className:ce,"aria-label":de,"aria-modal":"true",tabIndex:"-1"}),g.createElement("div",{className:"".concat(U,"--modal-header")},m&&z,u&&g.createElement("h2",{id:this.modalLabelId,className:"".concat(U,"--modal-header__label")},u),g.createElement("h3",{id:this.modalHeadingId,className:"".concat(U,"--modal-header__heading")},c),!m&&z),g.createElement("div",Rt({id:this.modalBodyId,className:ue},Y,{"aria-labelledby":he}),this.props.children),R&&g.createElement("div",{className:"".concat(U,"--modal-content--overflow-indicator")}),!m&&g.createElement(Do,{className:V},Array.isArray(N)&&N.length<=2?N.map(function(Me,Pe){var _e=Me.buttonText,Ee=Me.onClick;return g.createElement(wt,{key:"".concat(_e,"-").concat(Pe),kind:"secondary",onClick:Ee},_e)}):v&&g.createElement(wt,{kind:"secondary",onClick:re,ref:this.secondaryButton},v),g.createElement(wt,{kind:D?"danger":"primary",disabled:M,onClick:w,ref:this.button},h)));return g.createElement("div",Rt({},K,{onKeyDown:this.handleKeyDown,onMouseDown:this.handleMousedown,onBlur:this.handleBlur,className:ne,role:"presentation",onTransitionEnd:this.props.open?this.handleTransitionEnd:void 0,ref:this.outerModal}),g.createElement("span",{ref:this.startTrap,tabIndex:"0",role:"link",className:"".concat(U,"--visually-hidden")},"Focus sentinel"),A,g.createElement("span",{ref:this.endTrap,tabIndex:"0",role:"link",className:"".concat(U,"--visually-hidden")},"Focus sentinel"))}}]),n}(P.Component);S(zn,"propTypes",(q={alert:p.bool},S(q,"aria-label",$o("hasScrollingContent",p.string)),S(q,"children",p.node),S(q,"className",p.string),S(q,"danger",p.bool),S(q,"focusTrap",sa(p.bool)),S(q,"hasForm",sa(p.bool)),S(q,"hasScrollingContent",p.bool),S(q,"iconDescription",p.string),S(q,"id",p.string),S(q,"modalAriaLabel",p.string),S(q,"modalHeading",p.node),S(q,"modalLabel",p.node),S(q,"onKeyDown",p.func),S(q,"onRequestClose",p.func),S(q,"onRequestSubmit",p.func),S(q,"onSecondarySubmit",p.func),S(q,"open",p.bool),S(q,"passiveModal",p.bool),S(q,"preventCloseOnClickOutside",p.bool),S(q,"primaryButtonDisabled",p.bool),S(q,"primaryButtonText",p.node),S(q,"secondaryButtonText",p.node),S(q,"secondaryButtons",function(t,n,a){if(t.secondaryButtons){if(!Array.isArray(t.secondaryButtons)||t.secondaryButtons.length!==2)return new Error("".concat(n," needs to be an array of two button config objects"));var o={buttonText:p.node,onClick:p.func};t[n].forEach(function(i){p.checkPropTypes(o,i,n,a)})}return null}),S(q,"selectorPrimaryFocus",p.string),S(q,"selectorsFloatingMenus",p.arrayOf(p.string)),S(q,"shouldSubmitOnEnter",p.bool),S(q,"size",p.oneOf(["xs","sm","md","lg"])),q));S(zn,"defaultProps",{onRequestClose:function(){},onRequestSubmit:function(){},primaryButtonDisabled:!1,onKeyDown:function(){},passiveModal:!1,iconDescription:"Close",modalHeading:"",modalLabel:"",preventCloseOnClickOutside:!1,selectorPrimaryFocus:"[data-modal-primary-focus]",hasScrollingContent:!1});function dt(){return dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},dt.apply(this,arguments)}function _a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,a)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_a(Object(n),!0).forEach(function(a){me(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_a(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e,t){return Ss(e)||vs(e,t)||_s(e,t)||bs()}function bs(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _s(e,t){if(e){if(typeof e=="string")return va(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return va(e,t)}}function va(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function vs(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],o=!0,i=!1,l,c;try{for(n=n.call(e);!(o=(l=n.next()).done)&&(a.push(l.value),!(t&&a.length===t));o=!0);}catch(u){i=!0,c=u}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw c}}return a}}function Ss(e){if(Array.isArray(e))return e}var xs=function(){},Cs=Bn(),Ze=$a.stateChangeTypes,Is=Ze.ItemClick,ws=Ze.MenuBlur,Ts=Ze.MenuKeyDownArrowDown,Os=Ze.MenuKeyDownArrowUp,Fs=Ze.MenuKeyDownEnter,Ms=Ze.MenuKeyDownEscape,Ps=Ze.MenuKeyDownSpaceButton,Es=Ze.ToggleButtonClick,gn=g.forwardRef(function(t,n){var a,o,i,l=t.className,c=t.id,u=t.items,f=t.itemToElement,m=t.itemToString,_=t.titleText,v=t.hideLabel,h=t.helperText,I=t.label,x=t.type,w=t.size,C=t.disabled,T=t.initialSelectedItems,M=t.sortItems,D=t.compareItems,k=t.clearSelectionText,N=t.clearSelectionDescription,W=t.light,R=t.invalid,K=t.invalidText,re=t.warn,ne=t.warnText,ce=t.useTitleInItem,ue=t.translateWithId,V=t.downshiftProps,z=t.open,de=t.selectionFeedback,he=t.onChange,Y=t.onMenuChange,be=t.direction,A=ao(),Me=P.useRef(Cs()),Pe=Me.current,_e=P.useState(null),Ee=Kt(_e,2),F=Ee[0],Ae=Ee[1],tt=P.useState(z),E=Kt(tt,2),H=E[0],oe=E[1],nt=P.useState(z),Le=Kt(nt,2),pt=Le[0],ft=Le[1],Ot=P.useState([]),mt=Kt(Ot,2),ht=mt[0],Ft=mt[1],gt=es({disabled:C,initialSelectedItems:T,onChange:he}),Re=gt.selectedItems,yt=gt.onItemChange,bt=gt.clearSelection,Ne=$a(Da(cn(cn({},V),{},{highlightedIndex:F,isOpen:H,itemToString:function(Z){return Z.map(function(Se){return m(Se)}).join(", ")},onStateChange:se,selectedItem:Re,items:u}))),pe=Ne.getToggleButtonProps,fe=Ne.getLabelProps,Mt=Ne.getMenuProps,Ve=Ne.getItemProps,ge=Ne.selectedItem,Ge=function(Z){oe(Z),Y&&Y(Z)};pt!==z&&(Ge(z),ft(z));var X=x==="inline",at=!R&&re,we=ro("enable-v11-release"),_t=le("".concat(A,"--multi-select__wrapper"),"".concat(A,"--list-box__wrapper"),[we?l:null],(a={},me(a,"".concat(A,"--multi-select__wrapper--inline"),X),me(a,"".concat(A,"--list-box__wrapper--inline"),X),me(a,"".concat(A,"--multi-select__wrapper--inline--invalid"),X&&R),me(a,"".concat(A,"--list-box__wrapper--inline--invalid"),X&&R),a)),De=le("".concat(A,"--label"),(o={},me(o,"".concat(A,"--label--disabled"),C),me(o,"".concat(A,"--visually-hidden"),v),o)),Ue=h?"multiselect-helper-text-".concat(Pe):void 0,rt="multiselect-field-label-".concat(Pe),vt=le("".concat(A,"--form__helper-text"),me({},"".concat(A,"--form__helper-text--disabled"),C)),Pt=le("".concat(A,"--multi-select"),[we?null:l],(i={},me(i,"".concat(A,"--multi-select--invalid"),R),me(i,"".concat(A,"--multi-select--warning"),at),me(i,"".concat(A,"--multi-select--inline"),X),me(i,"".concat(A,"--multi-select--selected"),ge&&ge.length>0),me(i,"".concat(A,"--list-box--up"),be==="top"),i)),Te=f,We={selectedItems:Re,itemToString:m,compareItems:D,locale:"en"};de==="fixed"?We.selectedItems=[]:de==="top-after-reopen"&&(We.selectedItems=ht);function se(B){B.isOpen&&!H&&Ft(Re);var Z=B.type;switch(Z){case Is:case Ps:case Fs:if(B.selectedItem===void 0)break;yt(B.selectedItem);break;case Ts:case Os:Ae(B.highlightedIndex);break;case ws:case Ms:Ge(!1),Ae(B.highlightedIndex);break;case Es:Ge(B.isOpen||!1),Ae(B.highlightedIndex);break}}var ve=function(Z){ka(Z,oo)&&!C&&(bt(),Z.stopPropagation())},Oe=pe();return g.createElement("div",{className:_t},g.createElement("label",dt({className:De},fe()),_&&_,ge.length>0&&g.createElement("span",{className:"".concat(A,"--visually-hidden")},N," ",ge.length,",",k)),g.createElement(Be,{type:x,size:w,className:Pt,disabled:C,light:W,invalid:R,invalidText:K,warn:re,warnText:ne,isOpen:H,id:c},R&&g.createElement(Ba,{className:"".concat(A,"--list-box__invalid-icon")}),at&&g.createElement(La,{className:"".concat(A,"--list-box__invalid-icon ").concat(A,"--list-box__invalid-icon--warning")}),g.createElement("button",dt({type:"button",className:"".concat(A,"--list-box__field"),disabled:C,"aria-disabled":C},Oe,{ref:ja(Oe.ref,n),onKeyDown:ve}),ge.length>0&&g.createElement(Be.Selection,{clearSelection:C?xs:bt,selectionCount:ge.length,translateWithId:ue,disabled:C}),g.createElement("span",{id:rt,className:"".concat(A,"--list-box__label")},I),g.createElement(Be.MenuIcon,{isOpen:H,translateWithId:ue})),g.createElement(Be.Menu,dt({"aria-multiselectable":"true"},Mt()),H&&M(u,We).map(function(B,Z){var Se=Ve(me({item:B},"aria-selected",$e?!0:null)),ze=m(B),$e=ge.filter(function(vn){return hn(vn,B)}).length>0;return g.createElement(Be.MenuItem,dt({key:Se.id,isActive:$e,"aria-label":ze,isHighlighted:F===Z,title:ze},Se),g.createElement("div",{className:"".concat(A,"--checkbox-wrapper")},g.createElement("span",{title:ce?ze:null,className:"".concat(A,"--checkbox-label"),"data-contained-checkbox-state":$e,id:"".concat(Se.id,"__checkbox")},f?g.createElement(Te,dt({key:Se.id},B)):ze)))}))),!X&&!R&&!re&&h&&g.createElement("div",{id:Ue,className:vt},h))});gn.displayName="MultiSelect";gn.propTypes=cn(cn({},Ga),{},{clearSelectionDescription:p.string,clearSelectionText:p.string,direction:p.oneOf(["top","bottom"]),disabled:p.bool,downshiftProps:p.shape(kt.propTypes),hideLabel:p.bool,id:p.string.isRequired,initialSelectedItems:p.array,invalid:p.bool,invalidText:p.node,itemToElement:p.func,itemToString:p.func,items:p.array.isRequired,label:p.node.isRequired,light:p.bool,locale:p.string,onChange:p.func,onMenuChange:p.func,open:p.bool,selectionFeedback:p.oneOf(["top","fixed","top-after-reopen"]),size:qa,titleText:p.node,translateWithId:p.func,type:p.oneOf(["default","inline"]),useTitleInItem:p.bool,warn:p.bool,warnText:p.node});gn.defaultProps={compareItems:za,disabled:!1,locale:"en",itemToString:Wa,initialSelectedItems:[],sortItems:Qa,type:"default",light:!1,title:!1,open:!1,selectionFeedback:"top-after-reopen",direction:"bottom",clearSelectionText:"To clear selection, press Delete or Backspace,",clearSelectionDescription:"Total items selected: "};const Ha=gn;Lt.displayName="MultiSelect.Filterable";Ha.Filterable=Lt;function nn(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nn=function(n){return typeof n}:nn=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nn(e)}function As(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ks(e,t,n){return t&&Sa(e.prototype,t),n&&Sa(e,n),e}function Rs(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}function An(e,t){return An=Object.setPrototypeOf||function(a,o){return a.__proto__=o,a},An(e,t)}function Ns(e){var t=$s();return function(){var a=un(e),o;if(t){var i=un(this).constructor;o=Reflect.construct(a,arguments,i)}else o=a.apply(this,arguments);return Ds(this,o)}}function Ds(e,t){return t&&(nn(t)==="object"||typeof t=="function")?t:an(e)}function an(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $s(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function un(e){return un=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},un(e)}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ct=ke.prefix,yn=function(e){Rs(n,e);var t=Ns(n);function n(){var a;As(this,n);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=t.call.apply(t,[this].concat(i)),Ye(an(a),"state",{selected:typeof a.props.valueSelected<"u"?a.props.valueSelected:a.props.defaultSelected}),Ye(an(a),"getRadioButtons",function(){var c=g.Children.map(a.props.children,function(u){var f=u.props.value;return typeof u.props.checked<"u",g.cloneElement(u,{name:a.props.name,key:f,value:f,onChange:a.handleChange,checked:f===a.state.selected})});return c}),Ye(an(a),"handleChange",function(c,u,f){c!==a.state.selected&&(a.setState({selected:c}),a.props.onChange(c,a.props.name,f))}),a}return ks(n,[{key:"render",value:function(){var o,i=this.props,l=i.disabled,c=i.className,u=i.orientation,f=i.labelPosition,m=i.legendText,_=this.context,v;_.enabled&&(v=_.enabled("enable-v11-release"));var h=le("".concat(Ct,"--radio-button-group"),[v?null:c],(o={},Ye(o,"".concat(Ct,"--radio-button-group--").concat(u),u==="vertical"),Ye(o,"".concat(Ct,"--radio-button-group--label-").concat(f),f),o));return g.createElement("div",{className:v?le("".concat(Ct,"--form-item"),c):"".concat(Ct,"--form-item")},g.createElement("fieldset",{className:h,disabled:l},m&&g.createElement(Eo,{className:"".concat(Ct,"--label")},m),this.getRadioButtons()))}}],[{key:"getDerivedStateFromProps",value:function(o,i){var l=o.valueSelected,c=o.defaultSelected,u=i.prevValueSelected;return u===l?null:{selected:typeof l<"u"?l:c,prevValueSelected:l}}}]),n}(g.Component);Ye(yn,"propTypes",{children:p.node,className:p.string,defaultSelected:p.oneOfType([p.string,p.number]),disabled:p.bool,labelPosition:p.oneOf(["left","right"]),legendText:p.node,name:p.string.isRequired,onChange:p.func,orientation:p.oneOf(["horizontal","vertical"]),valueSelected:p.oneOfType([p.string,p.number])});Ye(yn,"defaultProps",{orientation:"horizontal",labelPosition:"right",onChange:function(){}});Ye(yn,"contextType",Ra);function qs(e){const{type:t}=e;return t==="filter"||t==="nested"}function Ka(e=[],t=[]){return e.forEach(n=>{n.type==="term"?t.push(n):qs(n)&&t.push(...Ka(n.aggregations||[]))}),t}var js=Yr,Bs=Na,Ls=Jr,Vs=go,xa=Zr,Gs=yo,Us=Ls(function(e){var t=Gs(e);return xa(t)&&(t=void 0),Vs(js(e,1,xa,!0),Bs(t))}),Ws=Us;const Xa=jt(Ws),zs=(e,t,n)=>{if(!e)return[];const o=Ka(e).map(l=>{const c=n.find(u=>u.name===te(l,"name",""));return c?{...l,...c}:{...l,multiple_selections_allowed:!0}}),i=[];return o.filter(l=>l.results).map(l=>{const c=te(l,"results",[]),u=t.find(f=>!f.name||!l.name?f.field&&f.field===l.field&&!i.includes(f.field)?(i.push(f.field),!0):!1:f.name===l.name);if(u){const f=te(u,"results",[]),m=c.map(v=>{const h=te(v,"key",""),I=f.find(x=>x.key===h);return I&&I.selected?{...v,selected:!0}:v}),_=Xa(m,f,"key");return{...l,results:_}}else return l})},Qs=(e,t)=>{if(!e)return[];const n=t.filter(o=>o.selected);return Xa(n,e,"text")};var Hs=eo(),Ks=Hs(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Xs=Ks;const Js=jt(Xs);function Ja(e){var t,n;return e.field?e.field.includes("enriched_")&&e.field.includes("entities.text")&&((n=(t=e.results)==null?void 0:t[0])==null?void 0:n.aggregations)!==void 0:!1}const Ie=class Ie{static fromString(t){if(t==="")return{filterFields:[],filterDynamic:[]};const n=RegExp(Ie.SPLIT_UNQUOTED_COLONS),a=Js(t.split(Ie.SPLIT_UNQUOTED_COMMAS),l=>n.test(l)),o=a[0].map(l=>{const c=l.split(Ie.SPLIT_UNQUOTED_PIPES),u=c[0].split(Ie.SPLIT_UNQUOTED_COLONS)[0],f=c.map(m=>m.split(Ie.SPLIT_UNQUOTED_COLONS)[1]).sort().map(m=>({key:this.unquoteString(m),matching_results:1,selected:!0}));return{type:"term",field:io(u),results:f}}),i=a[1].map(l=>({text:this.unquoteString(l),selected:!0}));return{filterFields:o,filterDynamic:i}}static toString(t){const n=this.fieldsToString(t.filterFields),a=this.quoteSelectedFacets(t.filterDynamic,"text").join(",");return[n,a].filter(Boolean).join(",")}static unquoteString(t){return t.replace(new RegExp(Ie.STRING_IN_QUOTES),"$1").replace(/\\"/g,'"')}static fieldsToString(t){const n=[];return t.forEach(a=>{const o=te(a,"field",""),i=(a==null?void 0:a.results)||[];if(Ja({field:o,results:i})){const c={};i.forEach(u=>{const f=u.aggregations[0].results[0].key;f in c?c[f].push(u):c[f]=[u]}),Object.values(c).forEach(u=>{const f=this.quoteSelectedFacets(u,"key");f.length&&n.push(f.map(m=>`${ia(o)}::${m}`).join("|"))})}else{const c=this.quoteSelectedFacets(i,"key");c.length&&n.push(c.map(u=>`${ia(o)}::${u}`).join("|"))}}),n.join(",")}static quoteSelectedFacets(t,n){return t.filter(a=>a.selected).map(a=>`"${te(a,n,"").replace(/"/g,'\\"')}"`)}};xt(Ie,"SPLIT_UNQUOTED_COMMAS",/,(?=(?:(?:[^"\\"]*["\\"]){2})*[^"\\"]*$)/),xt(Ie,"SPLIT_UNQUOTED_COLONS",/::(?=(?:(?:[^"\\"]*["\\"]){2})*[^"\\"]*$)/),xt(Ie,"SPLIT_UNQUOTED_PIPES",/\|(?=(?:(?:[^"\\"]*["\\"]){2})*[^"\\"]*$)/),xt(Ie,"STRING_IN_QUOTES",/^"(.+)"$/);let dn=Ie;const Ys="Error fetching facets.",Zs="There are no available facets.",Nt=e=>b.jsx("div",{children:b.jsx("p",{children:e})}),Ca=e=>{};try{Nt.displayName="displayMessage",Nt.__docgenInfo={description:"",displayName:"displayMessage",props:{}}}catch{}try{Ca.displayName="consoleErrorMessage",Ca.__docgenInfo={description:"",displayName:"consoleErrorMessage",props:{}}}catch{}const et=`${ke.prefix}--search-facet`,ei=[`${ke.prefix}--fieldset`,et],ti=[`${ke.prefix}--label`,`${et}__facet__label`],ni=`${et}__facet__option`,Ya=`${et}__facet__option-label`,ai=`${et}__facet__single__select__group`,ri=`${et}__facet__label-and-selection-container`,oi=`${et}__facet__show-more-modal`,Qn=`${et}__category`,si=`${Qn}--expand-collapse`,ii=`${Qn}--category-name`,Dt="collection-facet-",kn=({initialSelectedCollections:e,messages:t,onChange:n})=>{const{collectionsResults:a}=P.useContext(Bt),i=te(a,"collections",[]).map(c=>({id:`${Dt}${c.collection_id}`,label:c.name||""})),l=c=>{n(c)};return i.length>0?b.jsx(Ha,{id:`${Dt}select`,items:i,initialSelectedItems:e,label:t.collectionSelectLabel,onChange:l,titleText:t.collectionSelectTitleText}):null};try{kn.displayName="CollectionFacets",kn.__docgenInfo={description:"",displayName:"CollectionFacets",props:{initialSelectedCollections:{defaultValue:null,description:"Initially selected collection items",name:"initialSelectedCollections",required:!0,type:{name:"CollectionItem[]"}},messages:{defaultValue:null,description:"Override default messages for the component by specifying custom and/or internationalized text strings",name:"messages",required:!0,type:{name:"Messages"}},onChange:{defaultValue:null,description:"Callback to handle changes in selected collections",name:"onChange",required:!0,type:{name:"(selectedCollectionItems: SelectedCollectionItems) => void"}}}}}catch{}var li=to();function ci(e,t){var n=[];return li(e,function(a,o,i){t(a,o,i)&&n.push(a)}),n}var ui=ci,di=mo,pi=ui,fi=Na,mi=ho;function hi(e,t){var n=mi(e)?di:pi;return n(e,fi(t))}var gi=hi;const Za=jt(gi),er=(e,t,n,a)=>t!==void 0&&a?ua(n.labelTextWithCount,{facetText:e,count:t},!1):ua(n.labelText,{facetText:e},!1),$t=({messages:e,facets:t,facetsTextField:n,aggregationSettings:a,onMultiSelectFacetsGroupChange:o,onChange:i,tempSelectedFacets:l,setTempSelectedFacets:c,showMatchingResults:u})=>{const{searchResponseStore:{parameters:{naturalLanguageQuery:f}}}=P.useContext(Bt),m=(a.name||a.field).replace(/\s+/g,"_"),_=(v,h,I)=>{i&&i(I);const x=I.currentTarget,w=x.getAttribute("data-name")||"",C=x.getAttribute("data-key")||"";if(l&&c){const T=l.findIndex(M=>C===M.selectedFacetKey);if(T>-1){const M=[...l];M[T].checked=v,c(M)}else c(l.concat({selectedFacetName:w,selectedFacetKey:C,checked:v}))}else o([{selectedFacetName:w,selectedFacetKey:C,checked:v}])};return b.jsx(b.Fragment,{children:t.map(v=>{const h=te(v,n,""),I=v.matching_results,x=er(h,I,e,u),w=f||"",T=Va.Buffer.from(w+h).toString("base64");let M=!!v.selected;l&&l.every(({selectedFacetKey:k,checked:N})=>k===h?(M=!!N,!1):!0);let D=l?"modal-checkbox":"checkbox";return b.jsx(_o,{className:Ya,wrapperClassName:ni,onChange:_,labelText:x,id:`${D}-${m}-${h.replace(/\s+/g,"_")}`,"data-name":a.name||a.field,"data-key":h,checked:M},`${D}-${m}-${T}`)})})};try{$t.displayName="MultiSelectFacetsGroup",$t.__docgenInfo={description:"",displayName:"MultiSelectFacetsGroup",props:{messages:{defaultValue:null,description:"override default messages for the component by specifying custom and/or internationalized text strings",name:"messages",required:!0,type:{name:"Messages"}},facets:{defaultValue:null,description:"Dynamic facets text and selected flag",name:"facets",required:!0,type:{name:"(SelectableDynamicFacets | SelectableQueryTermAggregationResult)[]"}},facetsTextField:{defaultValue:null,description:"Facet text field",name:"facetsTextField",required:!0,type:{name:"enum",value:[{value:'"key"'},{value:'"text"'}]}},aggregationSettings:{defaultValue:null,description:"Aggregation component settings",name:"aggregationSettings",required:!0,type:{name:"InternalQueryTermAggregation"}},showMatchingResults:{defaultValue:null,description:"Show matching documents count as part of label",name:"showMatchingResults",required:!0,type:{name:"boolean"}},onMultiSelectFacetsGroupChange:{defaultValue:null,description:"Callback to handle changes in selected facets",name:"onMultiSelectFacetsGroupChange",required:!0,type:{name:"(selectedFacets: SelectedFacet[]) => void"}},tempSelectedFacets:{defaultValue:null,description:"Temporary array of selected facets for the ShowMoreModal before it's closed or saved",name:"tempSelectedFacets",required:!1,type:{name:"SelectedFacet[]"}},setTempSelectedFacets:{defaultValue:null,description:"Sets the state of the temporary array of selected facets for the ShowMoreModal before it's closed or saved",name:"setTempSelectedFacets",required:!1,type:{name:"((selectedFacets: SelectedFacet[]) => void)"}},onChange:{defaultValue:null,description:"custom handler invoked when any input element changes in the SearchFacets component",name:"onChange",required:!1,type:{name:"((e: SyntheticEvent<HTMLInputElement, Event>) => void)"}}}}}catch{}const qt=({messages:e,facets:t,facetsTextField:n,selectedFacet:a,aggregationSettings:o,onSingleSelectFacetsGroupChange:i,onChange:l,tempSelectedFacets:c,setTempSelectedFacets:u,showMatchingResults:f})=>{const{searchResponseStore:{parameters:{naturalLanguageQuery:m}}}=P.useContext(Bt),_=(o.name||o.field).replace(/\s+/g,"_"),v=C=>{l&&l(C);const T=C.currentTarget,M=T.getAttribute("data-name")||"",D=T.getAttribute("data-key")||"",k=!0;c&&u?u([{selectedFacetName:M,selectedFacetKey:D,checked:k}]):i([{selectedFacetName:M,selectedFacetKey:D,checked:k}])};let h="checkbox",I=a;c&&(c.length>0?I=c[0].selectedFacetKey+"-modal":a&&(I=a+"-modal"),h="modal-checkbox");const x=o.name||o.field,w=C=>{const T=te(C,n,""),M=C.matching_results,D=er(T,M,e,f),k=m||"",W=Va.Buffer.from(k+T).toString("base64");let R=T,K="checkbox";return c&&(K="modal-checkbox",R=te(C,n,"")+"-modal"),b.jsx(vo,{className:Ya,labelText:D,id:`${K}-${_}-${T.replace(/\s+/g,"_")}`,value:R,"data-key":T,"data-name":x,onClick:v},`${K}-${_}-${W}`)};return b.jsx(yn,{name:h+x,valueSelected:I,orientation:"vertical",className:ai,children:t.map(w)})};try{qt.displayName="SingleSelectFacetsGroup",qt.__docgenInfo={description:"",displayName:"SingleSelectFacetsGroup",props:{messages:{defaultValue:null,description:"override default messages for the component by specifying custom and/or internationalized text strings",name:"messages",required:!0,type:{name:"Messages"}},facets:{defaultValue:null,description:"Facets text and selected flag",name:"facets",required:!0,type:{name:"(SelectableDynamicFacets | SelectableQueryTermAggregationResult)[]"}},aggregationSettings:{defaultValue:null,description:"Aggregation component settings",name:"aggregationSettings",required:!0,type:{name:"InternalQueryTermAggregation"}},facetsTextField:{defaultValue:null,description:"Facet text field",name:"facetsTextField",required:!0,type:{name:"enum",value:[{value:'"key"'},{value:'"text"'}]}},showMatchingResults:{defaultValue:null,description:"Show matching documents count as part of label",name:"showMatchingResults",required:!0,type:{name:"boolean"}},selectedFacet:{defaultValue:null,description:"Text of selected facet",name:"selectedFacet",required:!0,type:{name:"string"}},onSingleSelectFacetsGroupChange:{defaultValue:null,description:"Callback to handle changes in selected facets",name:"onSingleSelectFacetsGroupChange",required:!0,type:{name:"(selectedFacets: SelectedFacet[]) => void"}},tempSelectedFacets:{defaultValue:null,description:"Temporary array of selected facets for the ShowMoreModal before it's closed or saved",name:"tempSelectedFacets",required:!1,type:{name:"SelectedFacet[]"}},setTempSelectedFacets:{defaultValue:null,description:"Sets the state of the temporary array of selected facets for the ShowMoreModal before it's closed or saved",name:"setTempSelectedFacets",required:!1,type:{name:"((selectedFacets: SelectedFacet[]) => void)"}},onChange:{defaultValue:null,description:"custom handler invoked when any input element changes in the SearchFacets component",name:"onChange",required:!1,type:{name:"((e: SyntheticEvent<HTMLInputElement, Event>) => void)"}}}}}catch{}const Rn=({facets:e,setFilteredFacets:t,isModalOpen:n,facetsLabel:a,facetsTextField:o,messages:i})=>{const[l,c]=P.useState("");P.useEffect(()=>{n||(c(""),t([...e]))},[e,n,t]);const u=f=>{const m=f.currentTarget;c(m?m.value:"");const _=m?m.value:"",v=[...e];t(v.filter(h=>{var I;return h[o]?(I=h[o])==null?void 0:I.toLowerCase().includes(_.toLowerCase()):null}))};return b.jsx(Oo,{value:l,labelText:i.modalSearchBarPrompt,placeholder:i.modalSearchBarPrompt,onChange:u,"data-testid":`search-facet-modal-search-bar-${a}`})};try{Rn.displayName="ModalSearchInput",Rn.__docgenInfo={description:"",displayName:"ModalSearchInput",props:{facets:{defaultValue:null,description:"Facets configuration with fields and results counts",name:"facets",required:!0,type:{name:"(SelectableDynamicFacets | SelectableQueryTermAggregationResult)[]"}},setFilteredFacets:{defaultValue:null,description:"Sets the list of filtered facets",name:"setFilteredFacets",required:!0,type:{name:"(value: (SelectableDynamicFacets | SelectableQueryTermAggregationResult)[]) => void"}},isModalOpen:{defaultValue:null,description:"Specifies whether the modal is open",name:"isModalOpen",required:!0,type:{name:"boolean"}},facetsLabel:{defaultValue:null,description:"Facet label text",name:"facetsLabel",required:!0,type:{name:"string"}},facetsTextField:{defaultValue:null,description:"Facet text field",name:"facetsTextField",required:!0,type:{name:"enum",value:[{value:'"key"'},{value:'"text"'}]}},messages:{defaultValue:null,description:"i18n messages for the component",name:"messages",required:!0,type:{name:"Messages"}}}}}catch{}const pn=({messages:e,aggregationSettings:t,facets:n,facetsLabel:a,facetsTextField:o,onChange:i,onShowMoreModalChange:l,isOpen:c,setIsModalOpen:u,shouldDisplayAsMultiSelect:f,selectedFacet:m,showMatchingResults:_,hasSearchBar:v,categoryName:h})=>{const[I,x]=P.useState([]),[w,C]=P.useState(),T=()=>{l(I),x([]),u(!1)},M=()=>{x([]),u(!1)},D=b.jsxs(b.Fragment,{children:[h?`${a}: ${h}`:a,v?b.jsx(Rn,{facets:n,messages:e,setFilteredFacets:C,isModalOpen:c,facetsLabel:a,facetsTextField:o}):b.jsx(b.Fragment,{})]});return b.jsxs(zn,{className:oi,modalHeading:D,onRequestSubmit:T,onRequestClose:M,modalAriaLabel:e.showMoreModalAriaLabel,"aria-label":e.showMoreModalAriaLabel,open:c,primaryButtonText:e.showMoreModalPrimaryButtonText,secondaryButtonText:e.showMoreModalSecondaryButtonText,"data-testid":`search-facet-show-more-modal-${a}`,children:[w&&w.length===0&&b.jsx("p",{children:e.emptyModalSearch}),f?b.jsx($t,{messages:e,facets:w||n,aggregationSettings:t,onMultiSelectFacetsGroupChange:l,onChange:i,facetsTextField:o,tempSelectedFacets:I,setTempSelectedFacets:x,showMatchingResults:_}):b.jsx(qt,{messages:e,facets:w||n,aggregationSettings:t,onSingleSelectFacetsGroupChange:l,onChange:i,selectedFacet:m,facetsTextField:o,tempSelectedFacets:I,setTempSelectedFacets:x,showMatchingResults:_})]})};try{pn.displayName="ShowMoreModal",pn.__docgenInfo={description:"",displayName:"ShowMoreModal",props:{messages:{defaultValue:null,description:"i18n messages for the component",name:"messages",required:!0,type:{name:"Messages"}},aggregationSettings:{defaultValue:null,description:"Aggregation component settings",name:"aggregationSettings",required:!0,type:{name:"InternalQueryTermAggregation"}},facets:{defaultValue:null,description:"Facets configuration with fields and results counts",name:"facets",required:!0,type:{name:"(SelectableDynamicFacets | SelectableQueryTermAggregationResult)[]"}},facetsLabel:{defaultValue:null,description:"Facet label text",name:"facetsLabel",required:!0,type:{name:"string"}},facetsTextField:{defaultValue:null,description:"Facet text field",name:"facetsTextField",required:!0,type:{name:"enum",value:[{value:'"key"'},{value:'"text"'}]}},onShowMoreModalChange:{defaultValue:null,description:"Callback to handle changes in selected facets",name:"onShowMoreModalChange",required:!0,type:{name:"(selectedFacets: SelectedFacet[]) => void"}},isOpen:{defaultValue:null,description:"Specifies whether the modal is open",name:"isOpen",required:!0,type:{name:"boolean"}},setIsModalOpen:{defaultValue:null,description:"Used to set the modal to closed state when modal is saved or otherwise closed",name:"setIsModalOpen",required:!0,type:{name:"(value: boolean) => void"}},shouldDisplayAsMultiSelect:{defaultValue:null,description:"Whether the facet should be displayed as multiselect or single-select",name:"shouldDisplayAsMultiSelect",required:!0,type:{name:"boolean"}},selectedFacet:{defaultValue:null,description:"Selected facet for single-select",name:"selectedFacet",required:!0,type:{name:"string"}},showMatchingResults:{defaultValue:null,description:"Show matching documents count as part of label",name:"showMatchingResults",required:!0,type:{name:"boolean"}},hasSearchBar:{defaultValue:null,description:"If more than 15 facets, adds a search bar",name:"hasSearchBar",required:!0,type:{name:"boolean"}},categoryName:{defaultValue:null,description:"Category name if the modal is for a category facet group",name:"categoryName",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"custom handler invoked when any input element changes in the SearchFacets component",name:"onChange",required:!1,type:{name:"((e: SyntheticEvent<HTMLInputElement, Event>) => void)"}}}}}catch{}const fn=({onClick:e,idSuffix:t,isCollapsed:n,isShowAllMessage:a,messages:o})=>{let i=o.collapsedFacetShowLessText;return a?i=o.collapsedFacetShowAllText:n&&(i=o.collapsedFacetShowMoreText),b.jsx(wt,{kind:"ghost",size:"small",onClick:e,"data-testid":`show-more-less-${t}`,children:i})};try{fn.displayName="ShowMoreButton",fn.__docgenInfo={description:"",displayName:"ShowMoreButton",props:{onClick:{defaultValue:null,description:"onClick handler to call for the Show more button",name:"onClick",required:!0,type:{name:"() => void"}},idSuffix:{defaultValue:null,description:"Suffix to use for the button's data-testid",name:"idSuffix",required:!0,type:{name:"string"}},isCollapsed:{defaultValue:null,description:"If the button is expanded to show more or collapsed",name:"isCollapsed",required:!0,type:{name:"boolean"}},isShowAllMessage:{defaultValue:null,description:"If the button text will be for opening a modal or expanding the list",name:"isShowAllMessage",required:!0,type:{name:"boolean"}},messages:{defaultValue:null,description:"i18n messages for the component",name:"messages",required:!0,type:{name:"Messages"}}}}}catch{}const Tt=10,tr=15,Nn=({categoryName:e,facetsLabel:t,facets:n,facetsTextField:a,onChange:o,onCategoryFacetsChange:i,messages:l,categoryIsExpanded:c,collapsedFacetsCount:u,onClick:f,aggregationSettings:m,shouldDisplayAsMultiSelect:_,selectedFacet:v,showMatchingResults:h})=>{const[I,x]=P.useState(!0),[w,C]=P.useState(u<n.length),[T,M]=P.useState(!1);P.useEffect(()=>{x(u<n.length),C(u<n.length)},[u,n.length]);const D=()=>{x(!I)},k=()=>{M(!0)},N=I?n.slice(0,u):n,W=c?wo:so,R=n.length,K=R<=Tt?D:k;return b.jsxs("div",{className:Qn,"data-testid":"search-facet-category",children:[b.jsx(wt,{className:si,onClick:()=>f(e,t),iconDescription:l.categoryExpandCollapseIconDescription,renderIcon:W,children:b.jsx("div",{className:ii,children:e})}),c&&b.jsxs(b.Fragment,{children:[_?b.jsx($t,{messages:l,facets:N,aggregationSettings:m,onMultiSelectFacetsGroupChange:i,onChange:o,facetsTextField:a,showMatchingResults:h}):b.jsx(qt,{messages:l,facets:N,aggregationSettings:m,onSingleSelectFacetsGroupChange:i,onChange:o,selectedFacet:v,facetsTextField:a,showMatchingResults:h}),w&&b.jsxs(b.Fragment,{children:[b.jsx(fn,{onClick:K,idSuffix:e,isCollapsed:I,isShowAllMessage:R>Tt,messages:l}),R>Tt&&b.jsx(pn,{messages:l,aggregationSettings:m,facets:n,facetsLabel:t,facetsTextField:a,onShowMoreModalChange:i,onChange:o,isOpen:T,setIsModalOpen:M,shouldDisplayAsMultiSelect:_,selectedFacet:v,showMatchingResults:h,hasSearchBar:R>tr,categoryName:e})]})]})]})};try{Nn.displayName="CategoryFacets",Nn.__docgenInfo={description:"",displayName:"CategoryFacets",props:{categoryName:{defaultValue:null,description:"Name of the category group within the facet",name:"categoryName",required:!0,type:{name:"string"}},facetsLabel:{defaultValue:null,description:"Label for the facet",name:"facetsLabel",required:!0,type:{name:"string"}},facets:{defaultValue:null,description:"Facets for the category",name:"facets",required:!0,type:{name:"SelectableFieldFacetWithCategory[]"}},facetsTextField:{defaultValue:null,description:"Facet text field",name:"facetsTextField",required:!0,type:{name:"enum",value:[{value:'"key"'},{value:'"text"'}]}},onCategoryFacetsChange:{defaultValue:null,description:"Callback to handle changes in selected facets",name:"onCategoryFacetsChange",required:!0,type:{name:"(selectedFacets: SelectedFacet[]) => void"}},messages:{defaultValue:null,description:"i18n messages for the component",name:"messages",required:!0,type:{name:"Messages"}},categoryIsExpanded:{defaultValue:null,description:"If category is expanded or collapsed",name:"categoryIsExpanded",required:!0,type:{name:"boolean"}},collapsedFacetsCount:{defaultValue:null,description:"How many facets should be shown",name:"collapsedFacetsCount",required:!0,type:{name:"number"}},onClick:{defaultValue:null,description:"Callback to handle changes in expansion/collapse of category group",name:"onClick",required:!0,type:{name:"(categoryName: string, facetLabel: string) => void"}},aggregationSettings:{defaultValue:null,description:"Aggregation component settings",name:"aggregationSettings",required:!0,type:{name:"InternalQueryTermAggregation"}},shouldDisplayAsMultiSelect:{defaultValue:null,description:"If should be displayed as multiselect or single-select",name:"shouldDisplayAsMultiSelect",required:!0,type:{name:"boolean"}},selectedFacet:{defaultValue:null,description:"Text of selected facet",name:"selectedFacet",required:!0,type:{name:"string"}},showMatchingResults:{defaultValue:null,description:"Show matching documents count as part of label",name:"showMatchingResults",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"custom handler invoked when any input element changes in the SearchFacets component",name:"onChange",required:!1,type:{name:"((e: SyntheticEvent<HTMLInputElement, Event>) => void)"}}}}}catch{}const Dn=({facetsByCategory:e,facetsLabel:t,aggregationSettings:n,onCategoryFacetsGroupChange:a,messages:o,collapsedFacetsCount:i,facetsTextField:l,shouldDisplayAsMultiSelect:c,selectedFacet:u,showMatchingResults:f,onChange:m})=>{const[_,v]=P.useState([]),{searchResponseStore:{parameters:{naturalLanguageQuery:h}}}=P.useContext(Bt);P.useEffect(()=>{v([])},[h]);const I=(x,w)=>{const C=_.indexOf(`${w}-${x}`);if(C>-1){const T=[..._];T.splice(C,1),v(T)}else v(_.concat(`${w}-${x}`))};return b.jsx(b.Fragment,{children:Object.entries(e[`${t}`].categories).map(x=>{const w=x[0],C=_.includes(`${t}-${w}`);return b.jsx(Nn,{categoryName:w,facetsLabel:t,facets:x[1].facets,onCategoryFacetsChange:a,onChange:m,messages:o,aggregationSettings:n,categoryIsExpanded:C,collapsedFacetsCount:i,onClick:I,facetsTextField:l,shouldDisplayAsMultiSelect:c,selectedFacet:u,showMatchingResults:f},t+w)})})};try{Dn.displayName="CategoryFacetsGroup",Dn.__docgenInfo={description:"",displayName:"CategoryFacetsGroup",props:{facetsByCategory:{defaultValue:null,description:"Facets with categories ordered by category",name:"facetsByCategory",required:!0,type:{name:"FieldFacetsByCategory"}},facetsLabel:{defaultValue:null,description:"Label for the facet",name:"facetsLabel",required:!0,type:{name:"string"}},facetsTextField:{defaultValue:null,description:"Facet text field",name:"facetsTextField",required:!0,type:{name:"enum",value:[{value:'"key"'},{value:'"text"'}]}},aggregationSettings:{defaultValue:null,description:"Aggregation component settings",name:"aggregationSettings",required:!0,type:{name:"InternalQueryTermAggregation"}},onCategoryFacetsGroupChange:{defaultValue:null,description:"Callback to handle changes in selected facets",name:"onCategoryFacetsGroupChange",required:!0,type:{name:"(selectedFacets: SelectedFacet[]) => void"}},messages:{defaultValue:null,description:"i18n messages for the component",name:"messages",required:!0,type:{name:"Messages"}},collapsedFacetsCount:{defaultValue:null,description:"How many facets should be shown",name:"collapsedFacetsCount",required:!0,type:{name:"number"}},shouldDisplayAsMultiSelect:{defaultValue:null,description:"If should be displayed as multiselect or single-select",name:"shouldDisplayAsMultiSelect",required:!0,type:{name:"boolean"}},selectedFacet:{defaultValue:null,description:"Text of selected facet",name:"selectedFacet",required:!0,type:{name:"string"}},showMatchingResults:{defaultValue:null,description:"Show matching documents count as part of label",name:"showMatchingResults",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"custom handler invoked when any input element changes in the SearchFacets component",name:"onChange",required:!1,type:{name:"((e: SyntheticEvent<HTMLInputElement, Event>) => void)"}}}}}catch{}const mn=({facets:e,showMatchingResults:t,aggregationSettings:n,collapsedFacetsCount:a,facetsTextField:o,messages:i,onClear:l,onCollapsibleFacetsGroupChange:c,onChange:u,hasCategories:f})=>{const[m,_]=P.useState(a<e.length),[v,h]=P.useState(a<e.length),[I,x]=P.useState(!1),w=n.label||n.field;P.useEffect(()=>{_(a<e.length),h(a<e.length)},[a,e.length]);const C=()=>{_(!m)},T=()=>{x(!0)};let M={};f&&(M[w]={categories:{}},lo(e)&&e.forEach(V=>{const z=V.aggregations[0].results[0].key;z in M[w].categories?M[w].categories[`${z}`].facets.push({key:V.key,matching_results:V.matching_results,selected:V.selected?V.selected:!1}):M[w].categories[`${z}`]={facets:[{key:V.key,matching_results:V.matching_results,selected:V.selected?V.selected:!1}]}}));const D=n.multiple_selections_allowed,k=m?e.slice(0,a):e,N=e.length,W=Za(e,["selected",!0]),R=te(W[0],o,""),K=D||W.length>1,re=W.length>0,ne=N<=Tt?C:T,ce=V=>{u&&u(V),l(n.name||n.field)},ue=V=>({"clear.all":i.clearFacetTitle,"clear.selection":i.clearFacetSelectionTitle})[V];return b.jsxs("fieldset",{className:ei.join(" "),children:[b.jsx("legend",{className:ti.join(" "),children:b.jsxs("div",{className:ri,children:[w,re&&b.jsx(Be.Selection,{clearSelection:ce,selectionCount:W.length,translateWithId:ue})]})}),f?b.jsx(Dn,{facetsByCategory:M,facetsLabel:w,onCategoryFacetsGroupChange:c,onChange:u,aggregationSettings:n,messages:i,collapsedFacetsCount:a,facetsTextField:o,shouldDisplayAsMultiSelect:K,selectedFacet:R,showMatchingResults:t}):b.jsxs(b.Fragment,{children:[K?b.jsx($t,{messages:i,facets:k,aggregationSettings:n,onChange:u,onMultiSelectFacetsGroupChange:c,showMatchingResults:t,facetsTextField:o}):b.jsx(qt,{messages:i,facets:k,aggregationSettings:n,onChange:u,onSingleSelectFacetsGroupChange:c,selectedFacet:R,showMatchingResults:t,facetsTextField:o}),v&&b.jsxs(b.Fragment,{children:[b.jsx(fn,{onClick:ne,idSuffix:w,isCollapsed:m,isShowAllMessage:N>Tt,messages:i}),N>Tt&&b.jsx(pn,{messages:i,aggregationSettings:n,facets:e,facetsLabel:w,facetsTextField:o,onShowMoreModalChange:c,onChange:u,isOpen:I,setIsModalOpen:x,shouldDisplayAsMultiSelect:K,selectedFacet:R,hasSearchBar:N>tr,showMatchingResults:t})]})]})]})};try{mn.displayName="CollapsibleFacetsGroup",mn.__docgenInfo={description:"",displayName:"CollapsibleFacetsGroup",props:{facets:{defaultValue:null,description:"Facets configuration with fields and results counts",name:"facets",required:!0,type:{name:"(SelectableDynamicFacets | SelectableQueryTermAggregationResult)[]"}},showMatchingResults:{defaultValue:null,description:"Show matching documents count as part of label",name:"showMatchingResults",required:!0,type:{name:"boolean"}},aggregationSettings:{defaultValue:null,description:"Aggregation component settings",name:"aggregationSettings",required:!0,type:{name:"InternalQueryTermAggregation"}},collapsedFacetsCount:{defaultValue:null,description:"How many facets should be shown",name:"collapsedFacetsCount",required:!0,type:{name:"number"}},messages:{defaultValue:null,description:"i18n messages for the component",name:"messages",required:!0,type:{name:"Messages"}},facetsTextField:{defaultValue:null,description:"Facet text field",name:"facetsTextField",required:!0,type:{name:"enum",value:[{value:'"key"'},{value:'"text"'}]}},onCollapsibleFacetsGroupChange:{defaultValue:null,description:"Callback to handle changes in selected facets",name:"onCollapsibleFacetsGroupChange",required:!0,type:{name:"(selectedFacets: SelectedFacet[]) => void"}},onClear:{defaultValue:null,description:"Callback to reset selected facet",name:"onClear",required:!0,type:{name:"(selectedFacetName?: string | undefined) => void"}},hasCategories:{defaultValue:null,description:"Whether this is an enriched entities facet that includes categories by which to organize facet values",name:"hasCategories",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"custom handler invoked when any input element changes in the SearchFacets component",name:"onChange",required:!1,type:{name:"((e: SyntheticEvent<HTMLInputElement, Event>) => void)"}}}}}catch{}const $n=({allFacets:e,showMatchingResults:t,messages:n,collapsedFacetsCount:a,onFieldFacetsChange:o,onChange:i})=>{const l=f=>f?e.findIndex(m=>m.name?m.name===f:m.field===f):-1,c=f=>{let m=Tn(e);f.forEach(({selectedFacetName:_,selectedFacetKey:v,checked:h})=>{const I=l(_);if(I>-1){const x=m[I],w=te(x,"multiple_selections_allowed",!0),C=te(x,"results",[]),M=Za(C,["selected",!0]).length<2&&!w,D=C.map(k=>{const N=te(k,"key","");if(M){const W=te(k,"selected",!1);return Object.assign({},k,{selected:N===v&&!W})}else return N===v?Object.assign({},k,{selected:h}):k});m[I].results=D}}),o({filterFields:m})},u=f=>{let m=Tn(e);const _=l(f);if(_>-1){const h=(m[_].results||[]).map(I=>({...I,selected:!1}));m[_].results=h,o({filterFields:m})}};return b.jsx("div",{children:e.map((f,m)=>{const _=te(f,"results",[]);if(_.length===0)return null;const v=Ja(f);return b.jsx(mn,{collapsedFacetsCount:a,messages:n,aggregationSettings:f,facets:_,showMatchingResults:t,facetsTextField:"key",hasCategories:v,onClear:u,onChange:i,onCollapsibleFacetsGroupChange:c},`collapsible-facet-group-${m}`)})})};try{$n.displayName="FieldFacets",$n.__docgenInfo={description:"",displayName:"FieldFacets",props:{allFacets:{defaultValue:null,description:"Facets configuration with fields and results counts",name:"allFacets",required:!0,type:{name:"InternalQueryTermAggregation[]"}},showMatchingResults:{defaultValue:null,description:"Show matching documents count as part of label",name:"showMatchingResults",required:!0,type:{name:"boolean"}},messages:{defaultValue:null,description:"i18n messages for the component",name:"messages",required:!0,type:{name:"Messages"}},collapsedFacetsCount:{defaultValue:null,description:"Number of facet terms to show when list is collapsed",name:"collapsedFacetsCount",required:!0,type:{name:"number"}},onFieldFacetsChange:{defaultValue:null,description:"Callback to handle changes in selected facets",name:"onFieldFacetsChange",required:!0,type:{name:"(updatedFacet: Partial<SearchFilterFacets>) => void"}},onChange:{defaultValue:null,description:"custom handler invoked when any input element changes in the SearchFacets component",name:"onChange",required:!1,type:{name:"((e: SyntheticEvent<HTMLInputElement, Event>) => void)"}}}}}catch{}const qn=({dynamicFacets:e,showMatchingResults:t,messages:n,collapsedFacetsCount:a,onDynamicFacetsChange:o,onChange:i})=>{const l=f=>{let m=Tn(e);f.forEach(({selectedFacetKey:_,checked:v})=>{const h=e.findIndex(I=>I.text===_);h>-1&&(m[h].selected=v)}),o({filterDynamic:m})},c=()=>{const f=e.map(m=>({...m,selected:!1}));o({filterDynamic:f})},u={type:"",label:n.dynamicFacetsLabel,multiple_selections_allowed:!0,field:"",name:""};return b.jsx(mn,{aggregationSettings:u,collapsedFacetsCount:a,facets:e,showMatchingResults:t,facetsTextField:"text",onCollapsibleFacetsGroupChange:l,onChange:i,onClear:c,messages:n,hasCategories:!1})};try{qn.displayName="DynamicFacets",qn.__docgenInfo={description:"",displayName:"DynamicFacets",props:{dynamicFacets:{defaultValue:null,description:"Dynamic facets text and selected flag",name:"dynamicFacets",required:!0,type:{name:"SelectableDynamicFacets[]"}},showMatchingResults:{defaultValue:null,description:"Show matching documents count as part of label",name:"showMatchingResults",required:!0,type:{name:"boolean"}},messages:{defaultValue:null,description:"i18n messages for the component",name:"messages",required:!0,type:{name:"Messages"}},collapsedFacetsCount:{defaultValue:null,description:"Number of facet terms to show when list is collapsed",name:"collapsedFacetsCount",required:!0,type:{name:"number"}},onDynamicFacetsChange:{defaultValue:null,description:"Callback to handle changes in selected facets",name:"onDynamicFacetsChange",required:!0,type:{name:"(updatedFacet: Partial<SearchFilterFacets>) => void"}},onChange:{defaultValue:null,description:"custom handler invoked when any input element changes in the SearchFacets component",name:"onChange",required:!1,type:{name:"((e: SyntheticEvent<HTMLInputElement, Event>) => void)"}}}}}catch{}const jn={labelText:"{facetText}",labelTextWithCount:"{facetText} ({count})",clearAllButtonText:"Clear all",clearFacetTitle:"Clear all selected items",clearFacetSelectionTitle:"Clear selected item",collapsedFacetShowMoreText:"Show more",collapsedFacetShowLessText:"Show less",collapsedFacetShowAllText:"Show all",collectionSelectTitleText:"Collections",collectionSelectLabel:"Available collections",dynamicFacetsLabel:"Dynamic Facets",showMoreModalPrimaryButtonText:"Apply",showMoreModalSecondaryButtonText:"Cancel",showMoreModalAriaLabel:"Modal to select and deselect facets",categoryExpandCollapseIconDescription:"Expand/Collapse",modalSearchBarPrompt:"Find",emptyModalSearch:"There were no results found"},yi=({id:e,showCollections:t=!0,showDynamicFacets:n=!0,showMatchingResults:a=!1,messages:o=jn,overrideComponentSettingsAggregations:i,collapsedFacetsCount:l=5,serverErrorMessage:c,onChange:u})=>{const f=P.useMemo(()=>e||`search-facets__${Fo()}`,[e]),{searchResponseStore:{parameters:m,parameters:{filter:_,collectionIds:v},data:h},collectionsResults:I,componentSettings:x,globalAggregationsResponseStore:{isLoading:w,isError:C,data:T,parameters:M}}=P.useContext(Bt),[D,k]=P.useState(dn.fromString(_||"")),N=te(I,"collections",[]),W=v||[],R=N.filter(E=>!!E.collection_id&&W.includes(E.collection_id)).map(E=>({id:`${Dt}${E.collection_id}`,label:E.name||""})),[K,re]=P.useState(R),{performSearch:ne,fetchAggregations:ce}=P.useContext(fo),ue={...jn,...o},V=i||x&&x.aggregations||[];la(()=>{!T&&!C&&!w&&ce(M)},[ce,M,T,C,w]),la(()=>{_===""&&k({filterFields:[],filterDynamic:[]})},[T,_]);const z=zs(T,D.filterFields,V),de=Qs(te(h,"suggested_refinements",[]),D.filterDynamic),he=t&&!!N,Y=!!z&&z.length>0,be=n&&!!de&&de.length>0,A={filterFields:z,filterDynamic:de},Me=D.filterFields.some(E=>E.results&&E.results.some(H=>H.selected)),Pe=D.filterDynamic.some(E=>E.selected),_e=K.length>0,Ee=Me||Pe||_e,F=E=>{const H={...A,...E},oe=dn.toString(H);k(H),ne({...m,offset:0,filter:oe},!1)},Ae=E=>{re(E.selectedItems);const H=E.selectedItems.map(oe=>oe.id.split(Dt).pop()||"").filter(oe=>oe!=="");u&&u(E.selectedItems.map(oe=>oe.label.split(Dt).pop()||"").filter(oe=>oe!=="")),ne({...m,offset:0,collectionIds:H})},tt=E=>{u&&u(E),k({filterFields:[],filterDynamic:[]}),re([]),document.querySelectorAll(`#${f} .${ke.prefix}--tag--filter [role="button"]`).forEach(H=>H.click()),ne({...m,collectionIds:[],offset:0,filter:""},!1)};if(w&&!Y&&!he)return null;if(C){const E=typeof c=="string"?Nt(c):c||Nt(Ys);return b.jsxs(b.Fragment,{children:[" ",E," "]})}else return Y||he?b.jsxs("div",{id:f,className:`${ke.prefix}--search-facets`,children:[Ee&&b.jsx(wt,{className:`${ke.prefix}--search-facets__button-clear-all`,id:`${f}--search-facets-button-clear-all`,kind:"ghost",renderIcon:To,size:"small",onClick:tt,children:o.clearAllButtonText}),Y&&b.jsx($n,{allFacets:z,showMatchingResults:a,onChange:u,onFieldFacetsChange:F,collapsedFacetsCount:l,messages:ue}),be&&b.jsx(qn,{dynamicFacets:de,showMatchingResults:a,messages:ue,onChange:u,onDynamicFacetsChange:F,collapsedFacetsCount:l}),he&&b.jsx(kn,{initialSelectedCollections:R,messages:ue,onChange:Ae})]}):Nt(Zs)},bn=co(yi,uo("SearchFacets"),po),bi=Vn({matching_results:123456,results:[],aggregations:[{type:"term",name:"category_id",field:"category",count:3,results:[{key:"Research",matching_results:138993},{key:"Analytics",matching_results:57158},{key:"Documentation",matching_results:32444}]},{type:"term",name:"machine_learning_id",field:"machine_learning_terms",count:5,results:[{key:"Neural network",matching_results:138993},{key:"Reinforced learning",matching_results:57158},{key:"CIFAR-10",matching_results:32444},{key:"MNIST",matching_results:32444},{key:"Recommender systems",matching_results:32444},{key:"Decision trees",matching_results:32444}]},{type:"term",name:"entities",field:"enriched_text.entities.text",count:11,results:[{key:"ibm",matching_results:138993,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Organization",matching_results:4}]}]},{key:"us",matching_results:57158,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Location",matching_results:4}]}]},{key:"$299",matching_results:32444,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Quantity",matching_results:4}]}]},{key:"watson",matching_results:32444,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Organization",matching_results:4}]}]},{key:"eu",matching_results:57158,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Location",matching_results:4}]}]},{key:"new york",matching_results:57158,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Location",matching_results:4}]}]},{key:"pittsburgh",matching_results:57158,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Location",matching_results:4}]}]},{key:"austin",matching_results:57158,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Location",matching_results:4}]}]},{key:"boston",matching_results:57158,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Location",matching_results:4}]}]},{key:"pennsylvania",matching_results:57158,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Location",matching_results:4}]}]},{key:"texas",matching_results:57158,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Location",matching_results:4}]}]},{key:"$399",matching_results:32444,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Quantity",matching_results:4}]}]},{key:"$499",matching_results:32444,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Quantity",matching_results:4}]}]},{key:"$599",matching_results:32444,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Quantity",matching_results:4}]}]},{key:"$699",matching_results:32444,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Quantity",matching_results:4}]}]},{key:"$799",matching_results:32444,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Quantity",matching_results:4}]}]},{key:"$899",matching_results:32444,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Quantity",matching_results:4}]}]},{key:"$999",matching_results:32444,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Quantity",matching_results:4}]}]},{key:"$1099",matching_results:32444,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Quantity",matching_results:4}]}]},{key:"$1199",matching_results:32444,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Quantity",matching_results:4}]}]},{key:"$1299",matching_results:32444,aggregations:[{type:"term",field:"enriched_text.entities.types",count:1,results:[{key:"Quantity",matching_results:4}]}]}]},{type:"term",name:"products",field:"products",count:16,results:[{key:"discovery",matching_results:138993},{key:"studio",matching_results:57158},{key:"openscale",matching_results:32444},{key:"assistant",matching_results:32444},{key:"speech to text",matching_results:57158},{key:"knowledge catalog",matching_results:57158},{key:"nlu",matching_results:57158},{key:"API kit",matching_results:57158},{key:"openpages",matching_results:57158},{key:"visual recognition",matching_results:57158},{key:"language translator",matching_results:57158},{key:"machine learning",matching_results:57158},{key:"tone analyzer",matching_results:57158},{key:"personality insights",matching_results:57158},{key:"cybersecurity",matching_results:57158},{key:"language classifier",matching_results:57158}]}],suggested_refinements:[{text:"regression"},{text:"classification"},{text:"naive bayes"},{text:"classifier"},{text:"algorithm"},{text:"decision tree"},{text:"clustering"},{text:"linear"},{text:"logistic"},{text:"theorem"},{text:"training"},{text:"data"},{text:"informative"},{text:"assumption"},{text:"classify"},{text:"trees"}]}),_i=Vn({collections:[{name:"Machine Learning",collection_id:"machine-learning"},{name:"AI Strategy",collection_id:"ai-strategy"}]}),vi=Vn({aggregations:[{name:"category_id",label:"Category (label created in component settings)",multiple_selections_allowed:!1},{name:"entities",label:"Top Entities",multiple_selections_allowed:!0},{name:"products",label:"Products",multiple_selections_allowed:!1}]}),_n=()=>({showCollections:ct.boolean("Show collection facets",!0),showDynamicFacets:ct.boolean("Show dynamic facets",!0),showMatchingResults:ct.boolean("Show matching results",!0),collapsedFacetsCount:ct.number("Number of facet terms to show when list is collapsed",5),messages:ct.object("Default messages for the component's text strings",jn),componentSettingsAggregations:ct.object("Aggregation component settings",vi.result)});class Si extends Mo{constructor(){super(...arguments);xt(this,"exampleProps",_n())}query(n){return In("query")(n),wn(bi.result)}listCollections(n){return In("listCollections")(n),wn(_i.result)}getComponentSettings(n){return In("getComponentSettings")(n),wn(this.exampleProps.componentSettingsAggregations)}}const Hn=e=>({searchClient:new Si,projectId:ct.text("Project ID","project-id"),overrideQueryParameters:e,overrideSearchResults:{suggested_refinements:[{text:"regression"},{text:"classification"},{text:"naive bayes"},{text:"classifier"},{text:"algorithm"},{text:"decision tree"},{text:"clustering"},{text:"linear"},{text:"logistic"},{text:"theorem"},{text:"training"},{text:"data"},{text:"informative"},{text:"assumption"},{text:"classify"},{text:"trees"}]}}),Zi={title:"SearchFacets",parameters:{component:bn},excludeStories:["props"]},Xt={render:()=>{const e=_n();return b.jsx(Gn,{children:b.jsx(Ln,{...Hn(),children:b.jsx(bn,{...e})})})},name:"default"},Jt={render:()=>{const e=_n();return b.jsx(Gn,{children:b.jsx(Ln,{...Hn({collectionIds:["machine-learning"]}),children:b.jsx(bn,{...e,showCollections:!0})})})},name:"with initial selected collection"},Yt={render:()=>{const e=_n();return b.jsx(Gn,{children:b.jsx(Ln,{...Hn({filter:'category:"Research","regression",machine_learning_terms:"Reinforced learning"'}),children:b.jsx(bn,{...e})})})},name:"with initial selected facets"};var Ia,wa,Ta;Xt.parameters={...Xt.parameters,docs:{...(Ia=Xt.parameters)==null?void 0:Ia.docs,source:{originalSource:`{
  render: () => {
    const exampleProps = props();
    return <StoryWrapper>
        <DiscoverySearch {...discoverySearchProps()}>
          <SearchFacets {...exampleProps} />
        </DiscoverySearch>
      </StoryWrapper>;
  },
  name: 'default'
}`,...(Ta=(wa=Xt.parameters)==null?void 0:wa.docs)==null?void 0:Ta.source}}};var Oa,Fa,Ma;Jt.parameters={...Jt.parameters,docs:{...(Oa=Jt.parameters)==null?void 0:Oa.docs,source:{originalSource:`{
  render: () => {
    const exampleProps = props();
    return <StoryWrapper>
        <DiscoverySearch {...discoverySearchProps({
        collectionIds: ['machine-learning']
      })}>
          <SearchFacets {...exampleProps} showCollections={true} />
        </DiscoverySearch>
      </StoryWrapper>;
  },
  name: 'with initial selected collection'
}`,...(Ma=(Fa=Jt.parameters)==null?void 0:Fa.docs)==null?void 0:Ma.source}}};var Pa,Ea,Aa;Yt.parameters={...Yt.parameters,docs:{...(Pa=Yt.parameters)==null?void 0:Pa.docs,source:{originalSource:`{
  render: () => {
    const exampleProps = props();
    return <StoryWrapper>
        <DiscoverySearch {...discoverySearchProps({
        filter: 'category:"Research","regression",machine_learning_terms:"Reinforced learning"'
      })}>
          <SearchFacets {...exampleProps} />
        </DiscoverySearch>
      </StoryWrapper>;
  },
  name: 'with initial selected facets'
}`,...(Aa=(Ea=Yt.parameters)==null?void 0:Ea.docs)==null?void 0:Aa.source}}};const el=["props","Default","WithInitialSelectedCollection","WithInitialSelectedFacets"];export{Xt as Default,Jt as WithInitialSelectedCollection,Yt as WithInitialSelectedFacets,el as __namedExportsOrder,Zi as default,_n as props};
