import{P as l}from"./index-4QtD-hFu.js";import{R as f,r as U}from"./index-RfLt4OUa.js";import{_ as X,I as Y,a as Z,d as N,m as ee,c as j,e as R,F as te,s as ne,E as re}from"./Button-KibTbxDG.js";import{C as ae}from"./bucket-5-3bTeVNTN.js";var D,oe=["children"],le=f.forwardRef(function(n,r){var e=n.children,a=X(n,oe);return f.createElement(Y,Z({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",ref:r},a),D||(D=f.createElement("path",{d:"M15,14.3L10.7,10c1.9-2.3,1.6-5.8-0.7-7.7S4.2,0.7,2.3,3S0.7,8.8,3,10.7c2,1.7,5,1.7,7,0l4.3,4.3L15,14.3z M2,6.5	C2,4,4,2,6.5,2S11,4,11,6.5S9,11,6.5,11S2,9,2,6.5z"})),e)});function m(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(r){return typeof r}:m=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},m(t)}var ce=["className","type","id","placeHolderText","placeholder","labelText","closeButtonLabelText","small","size","light","disabled","onChange","onKeyDown","renderIcon","onClear"];function C(){return C=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},C.apply(this,arguments)}function se(t,n){if(t==null)return{};var r=ie(t,n),e,a;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(a=0;a<c.length;a++)e=c[a],!(n.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,e)&&(r[e]=t[e])}return r}function ie(t,n){if(t==null)return{};var r={},e=Object.keys(t),a,c;for(c=0;c<e.length;c++)a=e[c],!(n.indexOf(a)>=0)&&(r[a]=t[a]);return r}function ue(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function z(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function fe(t,n,r){return n&&z(t.prototype,n),r&&z(t,r),t}function pe(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&O(t,n)}function O(t,n){return O=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e},O(t,n)}function he(t){var n=me();return function(){var e=y(t),a;if(n){var c=y(this).constructor;a=Reflect.construct(e,arguments,c)}else a=e.apply(this,arguments);return de(this,a)}}function de(t,n){return n&&(m(n)==="object"||typeof n=="function")?n:h(t)}function h(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function me(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},y(t)}function s(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}var i=ne.prefix,w=function(t){pe(r,t);var n=he(r);function r(){var e;ue(this,r);for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return e=n.call.apply(n,[this].concat(c)),s(h(e),"state",{hasContent:e.props.value||e.props.defaultValue||!1,prevValue:e.props.value}),s(h(e),"clearInput",function(o){if(!e.props.value)e.input.value="",e.props.onChange(o);else{var d=Object.assign({},o.target,{target:{value:""}});e.props.onChange(d)}e.props.onClear(),e.setState({hasContent:!1},function(){return e.input.focus()})}),s(h(e),"handleChange",function(o){e.setState({hasContent:o.target.value!==""})}),s(h(e),"handleKeyDown",function(o){ee(o,re)&&e.clearInput(o)}),e}return fe(r,[{key:"render",value:function(){var a,c,u=this,o=this.props,d=o.className,B=o.type,S=o.id,b=S===void 0?this._inputId=this._inputId||"search__input__id_".concat(Math.random().toString(36).substr(2)):S,L=o.placeHolderText,K=o.placeholder,$=o.labelText,F=o.closeButtonLabelText,V=o.small,P=o.size,p=P===void 0?V?"sm":"xl":P,H=o.light,v=o.disabled,M=o.onChange,W=o.onKeyDown,g=o.renderIcon;o.onClear;var k=se(o,ce),q=this.state.hasContent,T=this.context,_;T.enabled&&(_=T.enabled("enable-v11-release"));var A=j((a={},s(a,"".concat(i,"--search"),!0),s(a,"".concat(i,"--search--sm"),p==="sm"),s(a,"".concat(i,"--search--lg"),_?p==="md":p==="lg"),s(a,"".concat(i,"--search--xl"),_?p==="lg":p==="xl"),s(a,"".concat(i,"--search--light"),H),s(a,"".concat(i,"--search--disabled"),v),s(a,d,d),a)),G=j((c={},s(c,"".concat(i,"--search-close"),!0),s(c,"".concat(i,"--search-close--hidden"),!q),c)),E;g&&(E=f.cloneElement(g,{className:"".concat(i,"--search-magnifier-icon")}));var I="".concat(b,"-search"),J=g?E:f.createElement(le,{className:"".concat(i,"--search-magnifier-icon")});return f.createElement("div",{role:"search","aria-labelledby":I,className:A},f.createElement("div",{className:"".concat(i,"--search-magnifier"),ref:function(x){u.magnifier=x}},J),f.createElement("label",{id:I,htmlFor:b,className:"".concat(i,"--label")},$),f.createElement("input",C({role:"searchbox",autoComplete:"off"},k,{type:B,disabled:v,className:"".concat(i,"--search-input"),id:b,placeholder:L||K,onChange:R([M,this.handleChange]),onKeyDown:R([W,this.handleKeyDown]),ref:function(x){u.input=x}})),f.createElement("button",{className:G,disabled:v,onClick:this.clearInput,type:"button","aria-label":F},f.createElement(ae,null)))}}],[{key:"getDerivedStateFromProps",value:function(a,c){var u=a.value,o=c.prevValue;return o===u?null:{hasContent:!!u,prevValue:u}}}]),r}(U.Component);s(w,"propTypes",{className:l.string,closeButtonLabelText:l.string,defaultValue:l.oneOfType([l.string,l.number]),disabled:l.bool,id:l.string,labelText:l.node.isRequired,light:l.bool,onChange:l.func,onClear:l.func,onKeyDown:l.func,placeHolderText:N(l.string),placeholder:l.string,renderIcon:l.oneOfType([l.func,l.object]),size:l.oneOf(["sm","md","lg","xl"]),small:N(l.bool),type:l.string,value:l.oneOfType([l.string,l.number])});s(w,"contextType",te);s(w,"defaultProps",{type:"text",placeholder:"",closeButtonLabelText:"Clear search input",onChange:function(){},onClear:function(){}});export{le as S,w as a};
